import{j as L,o as n,w as p,k as v,d as t,u as b,v as T,c as l,b as r,n as g,f as m,t as i,F as R,m as N,S as Z,W as k}from"./vendor-C3sNAm3r.js";import{A as W}from"./AppLayout-ChNIk_qF.js";import{_ as V}from"./app-C2BdSkcL.js";const H={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},E={class:"mb-6"},F={class:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-4"},G={class:"mr-2"},J={key:0,class:"mb-6 bg-green-50 border-l-4 border-green-500 p-4"},K={key:1,class:"mb-6 bg-yellow-50 border-l-4 border-yellow-500 p-4"},Q={key:2,class:"mb-6 bg-red-50 border-l-4 border-red-500 p-4"},X={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6"},q={class:"bg-white shadow rounded-lg p-6 lg:col-span-2"},O={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},U={class:"mt-1 text-2xl font-bold text-blue-600"},Y={class:"mt-1 text-2xl font-bold text-green-600"},$={class:"mt-1 text-sm font-medium text-gray-900"},tt={key:0},et={class:"mt-1 text-sm font-medium text-gray-900"},st={key:1},at={class:"mt-1 text-sm font-medium text-gray-900"},it={class:"bg-white shadow rounded-lg p-6"},nt={class:"space-y-3"},lt={class:"mt-1 text-sm font-medium text-gray-900 flex items-center"},rt={key:0},ot={key:0},dt={class:"mt-1 text-sm font-medium text-gray-900"},mt={key:1},ut={class:"mt-1 text-sm font-medium text-gray-900 font-mono"},gt={key:2},ct={class:"mt-1 text-sm font-medium text-gray-900"},xt={key:1},wt={key:3,class:"bg-white shadow rounded-lg p-6 mb-6"},ft={class:"space-y-4"},ht={key:0},yt={class:"mt-1 p-3 bg-blue-50 rounded-lg"},pt={class:"text-sm text-gray-700"},vt={key:1},bt={class:"mt-1 p-3 bg-red-50 rounded-lg"},kt={class:"text-sm text-red-700"},Dt={key:2},_t={class:"mt-2"},It={key:0,class:"border rounded-lg p-4 bg-gray-50"},Bt={class:"flex flex-col sm:flex-row sm:items-start gap-4"},jt={class:"flex-shrink-0"},Ct=["src"],Pt={key:1,class:"border rounded-lg p-4 bg-gray-50"},Mt={class:"flex items-center"},At={class:"ml-4"},St={class:"mt-2"},zt=["href"],Lt={class:"bg-white shadow rounded-lg p-6 mb-6"},Tt={class:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4"},Rt={class:"mt-2 sm:mt-0"},Nt={class:"text-sm text-gray-600"},Zt={class:"overflow-x-auto"},Wt={class:"min-w-full divide-y divide-gray-200"},Vt={class:"bg-white divide-y divide-gray-200"},Ht={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-500 text-center"},Et={class:"px-4 py-4"},Ft={class:"text-sm font-medium text-gray-900"},Gt={key:0,class:"text-xs text-gray-500 mt-1"},Jt={class:"mt-1"},Kt={class:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs"},Qt={class:"px-4 py-4"},Xt={class:"text-sm text-gray-900"},qt={key:0,class:"text-xs text-gray-500 mt-1"},Ot={class:"px-4 py-4 whitespace-nowrap"},Ut={class:"text-sm font-medium text-gray-900"},Yt={class:"bg-gray-50"},$t={class:"px-4 py-4 whitespace-nowrap text-lg font-bold text-blue-600"},te={key:0},ee={class:"px-4 py-4 whitespace-nowrap text-sm font-medium text-red-600"},se={class:"px-4 py-4 whitespace-nowrap text-lg font-bold text-green-600"},ae={class:"flex flex-col sm:flex-row gap-3 justify-end"},ie={__name:"Show",props:{withdrawal:{type:Object,required:!0},paymentMethods:{type:Object,required:!0}},setup(s){const D=s,_=a=>({pending:"Menunggu Konfirmasi",approved:"Dana Dikirim",processing:"Sedang Diproses",completed:"Selesai",rejected:"Ditolak"})[a]||a,I=a=>({pending:"â³",approved:"ðŸ“¤",processing:"âš™ï¸",completed:"âœ…",rejected:"âŒ"})[a]||"â“",B=a=>({transfer:"Transfer",cash:"Tunai"})[a]||a,j=a=>({transfer:"bg-blue-100 text-blue-800",cash:"bg-yellow-100 text-yellow-800"})[a]||"bg-gray-100 text-gray-800",C=a=>a?a.replace(/(.{4})/g,"$1 ").trim():"",P=a=>a?[".jpg",".jpeg",".png",".gif",".bmp",".webp"].some(u=>a.toLowerCase().endsWith(u)):!1,M=a=>`/${a}`,A=a=>{a.target.src.includes("default-proof")||(a.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjRjNGNEY2Ii8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5QTBBRSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkdhbWJhciBUaWRhayBEaXRlbXVrYW48L3RleHQ+PC9zdmc+")},c=()=>{confirm("Apakah Anda yakin telah menerima dana penarikan ini? Dana akan ditandai sebagai selesai dan tidak dapat dikembalikan.")&&k.post(route("withdrawal.complete",D.withdrawal.id),{preserveScroll:!0,onSuccess:()=>k.reload()})},d=a=>new Intl.NumberFormat("id-ID").format(a||0),S=a=>new Date(a).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),x=a=>a?new Date(a).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return(a,e)=>(n(),L(W,{title:"Detail Penarikan"},{default:p(()=>{var u,w;return[v(b(T),{title:"Detail Penarikan"}),t("div",H,[t("div",E,[t("div",F,[e[0]||(e[0]=t("div",null,[t("h3",{class:"text-xl font-bold text-gray-900"},"Detail Penarikan Dana")],-1)),t("div",{class:g([a.statusBadgeClass,"px-4 py-2 rounded-full text-sm font-semibold inline-flex items-center justify-center self-start sm:self-center"])},[t("span",G,i(I(s.withdrawal.status)),1),m(" "+i(_(s.withdrawal.status)),1)],2)])]),s.withdrawal.status==="approved"?(n(),l("div",J,[t("div",{class:"flex"},[e[3]||(e[3]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1)),t("div",{class:"ml-3"},[e[2]||(e[2]=t("p",{class:"text-sm font-medium text-green-800"}," Dana penarikan sudah disetujui dan sedang dalam proses pengiriman ",-1)),t("div",{class:"mt-2"},[t("button",{onClick:c,class:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},e[1]||(e[1]=[t("svg",{class:"h-4 w-4 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1),m(" Konfirmasi Dana Diterima ")]))])])])])):r("",!0),s.withdrawal.status==="pending"?(n(),l("div",K,e[4]||(e[4]=[t("div",{class:"flex"},[t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"})])]),t("div",{class:"ml-3"},[t("p",{class:"text-sm font-medium text-yellow-800"}," Pengajuan penarikan Anda sedang menunggu konfirmasi admin ")])],-1)]))):r("",!0),s.withdrawal.status==="rejected"?(n(),l("div",Q,e[5]||(e[5]=[t("div",{class:"flex"},[t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])]),t("div",{class:"ml-3"},[t("p",{class:"text-sm font-medium text-red-800"}," Pengajuan penarikan Anda ditolak ")])],-1)]))):r("",!0),t("div",X,[t("div",q,[e[12]||(e[12]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Informasi Penarikan",-1)),t("div",O,[t("div",null,[e[6]||(e[6]=t("label",{class:"text-sm font-medium text-gray-500"},"Jumlah Penarikan",-1)),t("p",U," Rp "+i(d(s.withdrawal.total_amount)),1)]),t("div",null,[e[7]||(e[7]=t("label",{class:"text-sm font-medium text-gray-500"},"Biaya Admin",-1)),t("p",{class:g(["mt-1 text-xl font-medium",s.withdrawal.admin_fee>0?"text-red-600":"text-green-600"])},i(s.withdrawal.admin_fee>0?"Rp "+d(s.withdrawal.admin_fee):"Gratis"),3)]),t("div",null,[e[8]||(e[8]=t("label",{class:"text-sm font-medium text-gray-500"},"Dana Diterima",-1)),t("p",Y," Rp "+i(d(s.withdrawal.final_amount||s.withdrawal.total_amount)),1)]),t("div",null,[e[9]||(e[9]=t("label",{class:"text-sm font-medium text-gray-500"},"Tanggal Pengajuan",-1)),t("p",$,i(x(s.withdrawal.requested_at)),1)]),s.withdrawal.processed_at?(n(),l("div",tt,[e[10]||(e[10]=t("label",{class:"text-sm font-medium text-gray-500"},"Tanggal Diproses",-1)),t("p",et,i(x(s.withdrawal.processed_at)),1)])):r("",!0),s.withdrawal.processor?(n(),l("div",st,[e[11]||(e[11]=t("label",{class:"text-sm font-medium text-gray-500"},"Diproses Oleh",-1)),t("p",at,i((u=s.withdrawal.processor)==null?void 0:u.name),1)])):r("",!0)])]),t("div",it,[e[18]||(e[18]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Informasi Pembayaran",-1)),t("div",nt,[t("div",null,[e[13]||(e[13]=t("label",{class:"text-sm font-medium text-gray-500"},"Metode",-1)),t("p",lt,[t("span",{class:g([j(s.withdrawal.payment_method),"px-2 py-1 rounded-md text-xs mr-2"])},i(B(s.withdrawal.payment_method)),3)])]),s.withdrawal.payment_method==="transfer"?(n(),l("div",rt,[s.withdrawal.bank_name?(n(),l("div",ot,[e[14]||(e[14]=t("label",{class:"text-sm font-medium text-gray-500"},"Bank/E-Wallet",-1)),t("p",dt,i(s.withdrawal.bank_name),1)])):r("",!0),s.withdrawal.account_number?(n(),l("div",mt,[e[15]||(e[15]=t("label",{class:"text-sm font-medium text-gray-500"},"Nomor",-1)),t("p",ut,i(C(s.withdrawal.account_number)),1)])):r("",!0),s.withdrawal.account_name?(n(),l("div",gt,[e[16]||(e[16]=t("label",{class:"text-sm font-medium text-gray-500"},"Atas Nama",-1)),t("p",ct,i(s.withdrawal.account_name),1)])):r("",!0)])):(n(),l("div",xt,e[17]||(e[17]=[t("p",{class:"text-sm text-gray-600 mt-2"}," Ambil dana tunai di lokasi sesuai dengan jadwal yang sudah ditentukan. ",-1)])))])])]),s.withdrawal.notes||s.withdrawal.rejection_reason||s.withdrawal.file_path?(n(),l("div",wt,[e[26]||(e[26]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Informasi Tambahan",-1)),t("div",ft,[s.withdrawal.notes?(n(),l("div",ht,[e[19]||(e[19]=t("label",{class:"text-sm font-medium text-gray-500"},"Catatan",-1)),t("div",yt,[t("p",pt,i(s.withdrawal.notes),1)])])):r("",!0),s.withdrawal.rejection_reason?(n(),l("div",vt,[e[20]||(e[20]=t("label",{class:"text-sm font-medium text-red-600"},"Alasan Penolakan",-1)),t("div",bt,[t("p",kt,i(s.withdrawal.rejection_reason),1)])])):r("",!0),s.withdrawal.file_path?(n(),l("div",Dt,[e[25]||(e[25]=t("label",{class:"text-sm font-medium text-gray-500"},"Bukti Transfer",-1)),t("div",_t,[P(s.withdrawal.file_path)?(n(),l("div",It,[t("div",Bt,[t("div",jt,[t("img",{src:M(s.withdrawal.file_path),alt:"Bukti Transfer",class:"h-48 w-48 object-contain rounded-lg border border-gray-200",onError:A},null,40,Ct),e[21]||(e[21]=t("p",{class:"mt-2 text-xs text-gray-500 text-center"}," Klik gambar untuk melihat ukuran penuh ",-1))])])])):(n(),l("div",Pt,[t("div",Mt,[e[24]||(e[24]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-12 w-12 text-red-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z","clip-rule":"evenodd"})])],-1)),t("div",At,[e[23]||(e[23]=t("p",{class:"text-sm font-medium text-gray-900"},"File Bukti Transfer (PDF)",-1)),t("div",St,[t("a",{href:a.route("withdrawal.download-proof",s.withdrawal.id),target:"_blank",class:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},e[22]||(e[22]=[t("svg",{class:"h-4 w-4 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),m(" Download Bukti Transfer ")]),8,zt)])])])]))])])):r("",!0)])])):r("",!0),t("div",Lt,[t("div",Tt,[e[27]||(e[27]=t("h3",{class:"text-lg font-medium text-gray-900"},"Detail Distribusi Pendapatan",-1)),t("div",Rt,[t("span",Nt," Total "+i(((w=s.withdrawal.transaction_distributions)==null?void 0:w.length)||0)+" distribusi ",1)])]),t("div",Zt,[t("table",Wt,[e[31]||(e[31]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," No "),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Transaksi "),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Deskripsi "),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Jumlah ")])],-1)),t("tbody",Vt,[(n(!0),l(R,null,N(s.withdrawal.transaction_distributions,(o,z)=>{var f,h,y;return n(),l("tr",{key:o.id},[t("td",Ht,i(z+1),1),t("td",Et,[t("div",Ft,i(((f=o.transaction)==null?void 0:f.invoice_number)||"N/A"),1),(h=o.transaction)!=null&&h.inspection?(n(),l("div",Gt,[t("div",null,i(o.transaction.inspection.plate_number),1),t("div",null,i(o.transaction.inspection.car_name),1),t("div",Jt,[t("span",Kt,i(S(o.created_at)),1)])])):r("",!0)]),t("td",Qt,[t("div",Xt,i(o.role_type||"Distribusi Pendapatan"),1),(y=o.transaction)!=null&&y.description?(n(),l("div",qt,i(o.transaction.description),1)):r("",!0)]),t("td",Ot,[t("div",Ut," Rp "+i(d(o.amount)),1)])])}),128))]),t("tfoot",Yt,[t("tr",null,[e[28]||(e[28]=t("td",{colspan:"3",class:"px-4 py-4 text-right text-sm font-medium text-gray-900"}," Total Penarikan: ",-1)),t("td",$t," Rp "+i(d(s.withdrawal.total_amount)),1)]),s.withdrawal.admin_fee>0?(n(),l("tr",te,[e[29]||(e[29]=t("td",{colspan:"3",class:"px-4 py-4 text-right text-sm font-medium text-gray-900"}," Biaya Admin: ",-1)),t("td",ee," - Rp "+i(d(s.withdrawal.admin_fee)),1)])):r("",!0),t("tr",null,[e[30]||(e[30]=t("td",{colspan:"3",class:"px-4 py-4 text-right text-sm font-medium text-gray-900"}," Dana Diterima: ",-1)),t("td",se," Rp "+i(d(s.withdrawal.final_amount||s.withdrawal.total_amount)),1)])])])])]),t("div",ae,[v(b(Z),{href:a.route("withdrawals.history"),class:"inline-flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:p(()=>e[32]||(e[32]=[t("svg",{class:"h-4 w-4 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z","clip-rule":"evenodd"})],-1),m(" Kembali ke Riwayat ")])),_:1,__:[32]},8,["href"]),s.withdrawal.status==="approved"?(n(),l("button",{key:0,onClick:c,class:"inline-flex justify-center items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},e[33]||(e[33]=[t("svg",{class:"h-4 w-4 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1),m(" Konfirmasi Dana Diterima ")]))):r("",!0)])])]}),_:1}))}},oe=V(ie,[["__scopeId","data-v-f6b65125"]]);export{oe as default};
