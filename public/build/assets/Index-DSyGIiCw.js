import{c as o,o as n,d as e,r as v,x as z,q as I,G as Ie,j as N,w as L,k as m,b as d,u as l,v as Ce,f as g,t as a,z as B,A as U,F as ie,m as le,n as S,y as de,S as O,I as Me,W as D}from"./vendor-g77w9U1W.js";import{A as $e}from"./AppLayout-YiW6b2oS.js";import{_ as je}from"./app-DtCC8Y1B.js";import{r as K,a as Ae,b as Te}from"./XMarkIcon-LegmbKWs.js";import{r as Re,C as P}from"./car-CSEwuOSb.js";function ue(x,u){return n(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})])}function Le(x,u){return n(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})])}function Be(x,u){return n(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}const Se={class:"w-full px-4 sm:px-6 lg:px-6 py-6"},De={class:"flex flex-col sm:flex-row sm:items-center justify-between mb-6 gap-4"},Pe={class:"text-xl md:text-3xl font-bold text-gray-900 text-center sm:text-left"},Fe={key:0,class:"text-lg text-gray-600 block sm:inline sm:ml-2"},He={key:1,class:"text-lg text-gray-600 block sm:inline sm:ml-2"},Ve={key:2,class:"text-lg text-gray-600 block sm:inline sm:ml-2"},We={key:0,class:"flex items-center gap-2"},qe={key:0,class:"relative flex-1"},ze={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},Ne={class:"px-4 py-2 border-b flex justify-between items-center"},Ue=["onClick"],Oe={key:0,class:"px-4 py-3 bg-gray-50 border-b"},Ke={class:"flex items-center justify-between"},Ee={class:"flex items-center"},Ge={class:"text-sm text-gray-600"},Je=["href"],Qe={class:"p-4 flex justify-between items-start"},Xe={class:"flex items-center mb-1"},Ye={class:"text-sm font-semibold text-blue-700 ml-7 -mt-1"},Ze={class:"px-4 py-3 bg-gray-50 border-t border-gray-100"},et={class:"flex items-center"},tt={class:"text-sm font-medium text-gray-800"},st={key:0},rt={class:"text-gray-600"},nt={key:1},ot={class:"flex items-center mt -2"},at={class:"text-sm font-bold text-gray-900"},it={class:"py-3 bg-white border-t border-gray-100"},lt={key:0,class:"mb-3 p-2 rounded bg-green-50 border border-green-200"},dt={class:"flex items-center justify-between"},ut={class:"text-sm font-semibold text-gray-800"},ct={class:"text-xs text-gray-600"},mt=["href"],pt={key:1,class:"mb-3 p-2 bg-yellow-50 border border-yellow-200 rounded"},gt={class:"grid grid-cols-2 gap-1 text-sm"},vt={key:3,class:"p-2 bg-yellow-50 border border-yellow-200 rounded"},xt={key:1,class:"px-4 py-2 bg-white border-t border-gray-100"},ft={class:"text-sm text-gray-800"},yt={class:"p-4 flex space-x-2"},bt=["onClick"],ht=["onClick","disabled"],_t={key:1,class:"text-center py-8"},wt={class:"text-gray-500"},kt={class:"text-center mt-6"},It={key:1,class:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50"},Ct={class:"bg-white rounded-lg shadow-xl max-w-md w-full"},Mt={class:"p-6"},$t={class:"flex items-start mb-4"},jt={key:0},At={class:"font-medium text-gray-800"},Tt={class:"text-sm text-gray-600"},Rt={class:"text-gray-500"},Lt={key:1,class:"text-sm font-medium text-gray-800"},Bt={class:"flex items-center mt-2"},St={class:"text-base font-bold text-gray-900"},Dt={class:"text-gray-600 mb-6"},Pt={key:0,class:"font-semibold text-gray-800"},Ft={class:"flex justify-end space-x-3"},Ht=["disabled"],Vt={key:0},Wt={key:1},qt={key:2,class:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50"},zt={class:"bg-white rounded-lg shadow-xl max-w-md w-full"},Nt={class:"p-6"},Ut={class:"flex items-center justify-between mb-4"},Ot={class:"mb-6 p-4 bg-gray-50 rounded-lg"},Kt={class:"flex items-start"},Et={class:"font-medium text-gray-800"},Gt={class:"text-sm text-gray-600"},Jt={class:"text-sm text-gray-500 mt-1"},Qt={class:"font-medium"},Xt={class:"space-y-4"},Yt=["value"],Zt={key:0,class:"text-red-500 text-sm mt-1"},es={class:"flex justify-end space-x-3 mt-6"},ts=["disabled"],ss={key:0},rs={key:1},ns={key:3,class:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50"},os={class:"bg-white rounded-lg shadow-xl max-w-md w-full"},as={class:"p-6"},is={class:"flex items-center justify-between mb-4"},ls={class:"flex items-start mb-4"},ds={key:0},us={class:"font-medium text-gray-800"},cs={class:"text-sm text-gray-600"},ms={class:"text-gray-500"},ps={key:1,class:"text-sm font-medium text-gray-800"},gs={class:"flex items-center mt-2"},vs={class:"text-base font-bold text-gray-900"},xs={class:"mb-6"},fs={key:0,class:"text-red-500 text-sm mt-1"},ys={class:"flex justify-end space-x-3"},bs=["disabled"],hs={key:0},_s={key:1},ws={__name:"Index",props:{tasks:Array,encryptedIds:Object,userRole:String,userId:Number,inspectors:Array,filters:Object},setup(x){const u=x,j=v(!1),F=v(!1),H=v(!1),A=v(!1),i=v(null),h=v(""),_=v(""),w=v(""),C=v(u.filters.search),V=z({}),k=z({reason:""}),b=z({new_inspector_id:"",transfer_reason:""});let E=null;const ce=()=>{clearTimeout(E),E=setTimeout(()=>{D.get(route("job.index"),{search:C.value},{preserveState:!0,replace:!0})},300)},G=()=>{A.value&&(C.value="",D.get(route("job.index"),{search:""},{preserveState:!0,replace:!0})),A.value=!A.value},me=r=>{if(i.value=r,c.value){D.get(route("inspections.review",{id:u.encryptedIds[r.id]}));return}if(p.value){if(r.status==="pending_review"){D.get(route("inspections.review",{id:u.encryptedIds[r.id]}));return}j.value=!0;return}j.value=!0},pe=r=>{i.value=r,F.value=!0},ge=r=>{i.value=r,H.value=!0},f=()=>{j.value=!1,F.value=!1,H.value=!1,h.value="",_.value="",w.value=""},ve=()=>{i.value&&(k.reason=h.value,k.post(route("inspections.cancel",{inspection:u.encryptedIds[i.value.id]}),{onSuccess:()=>{f(),h.value=""}}))},xe=()=>{i.value&&V.get(route("inspections.start",{inspection:u.encryptedIds[i.value.id]}),{onFinish:()=>{f()}})},fe=()=>{i.value&&(b.new_inspector_id=w.value,b.transfer_reason=_.value,b.post(route("inspections.transfer",{inspection:u.encryptedIds[i.value.id]}),{onSuccess:()=>{f(),_.value="",w.value=""}}))},c=I(()=>u.userRole==="admin_plann"),T=I(()=>u.userRole==="inspector"),p=I(()=>u.userRole==="quality_control"),M=I(()=>u.userRole==="inspector_coordinator"),$=I(()=>u.userRole==="admin"),W=r=>$.value||c.value||p.value||M.value?!1:T.value?u.tasks.some(y=>(y.status==="in_progress"||y.status==="revision")&&y.id!==r.id)&&!(r.status==="in_progress"||r.status==="revision"):!1,q=r=>c.value?"Lihat Detail":(p.value||$.value||M.value,r.status==="draft"?"Mulai Inspeksi":r.status==="in_progress"?"Lanjutkan Inspeksi":r.status==="pending_review"?"Periksa Laporan":r.status==="revision"?"Lanjutkan Revisi":r.status==="pending"?"Lanjutkan Inspeksi":"Detail"),ye=r=>c.value||p.value?"Memuat...":r.status==="draft"?"Memuat Halaman Inspeksi...":r.status==="in_progress"?"Membuka Halaman Inspeksi...":r.status==="pending_review"?"Memuat Halaman Review...":r.status==="revision"?"Memuat Halaman Revisi...":r.status==="pending"?"Memuat Halaman Inspeksi...":"Memuat...",be=r=>{if(!r)return"";const y=new Date(r.inspection_date).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),R=r.car?`${r.car.brand.name} ${r.car.model.name} ${r.car.type.name} ${(r.car.cc/1e3).toFixed(1)}L ${r.car.transmission} ${r.car.year}`:r.car_name;return`Halo, ada jadwal inspeksi baru:

ðŸ“… *${y}*
ðŸš— *${R}*
ðŸ“ *${r.plate_number}*

Tolong di bantu untuk melakukan inspeksi sesuai jadwal. Terima kasih!`},he=r=>{if(!r)return"";let t=r.replace(/\D/g,"");return t.startsWith("0")&&(t="62"+t.substring(1)),t.startsWith("62")||(t="62"+t),t},_e=r=>c.value&&r.status==="draft",we=r=>["inspector","inspector_coordinator","admin","admin_plann","quality_control"].includes(u.userRole)&&["draft","in_progress","pending","revision"].includes(r.status),ke=r=>{switch(r){case"draft":return"bg-gray-100 text-gray-800";case"in_progress":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"pending_review":return"bg-purple-100 text-purple-800";case"revision":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}};return I(()=>!c.value),Ie(C,()=>{ce()}),(r,t)=>(n(),N($e,null,{default:L(()=>{var y,R,J,Q,X,Y,Z,ee,te,se,re;return[m(l(Ce),{title:"Tugas"}),e("div",Se,[e("div",De,[e("h3",Pe,[g(a(c.value?"Monitoring Tugas Inspeksi":p.value?"Review & Revisi Inspeksi":"Tugas Inspeksi")+" ",1),T.value?(n(),o("span",Fe,"- Saya")):d("",!0),M.value?(n(),o("span",He,"- Coordinator")):d("",!0),$.value?(n(),o("span",Ve,"- Admin")):d("",!0)]),c.value||p.value?(n(),o("div",We,[A.value?(n(),o("div",qe,[B(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>C.value=s),type:"text",placeholder:"Cari plat/nama mobil/inspector...",class:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",autofocus:""},null,512),[[U,C.value]]),e("button",{onClick:G,class:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600"},[m(l(K),{class:"h-5 w-5"})])])):d("",!0),e("button",{onClick:G,class:"p-2 text-gray-400 hover:text-gray-600 transition-colors"},[m(l(Ae),{class:"h-5 w-5"})])])):d("",!0)]),x.tasks.length>0?(n(),o("div",ze,[(n(!0),o(ie,null,le(x.tasks,s=>{var ne,oe;return n(),o("div",{key:s.id,class:"bg-white rounded-xl shadow-md overflow-hidden border border-gray-200 hover:shadow-lg transition"},[e("div",Ne,[e("span",{class:S(["px-2 py-1 text-xs font-medium rounded-full",ke(s.status)])},a(s.status.replace("_"," ").toUpperCase()),3),_e(s)?(n(),o("button",{key:0,onClick:de(ae=>ge(s),["stop"]),class:"text-xs text-blue-600 hover:text-blue-800 font-medium",title:"Alihkan ke inspector lain"},[m(l(ue),{class:"h-4 w-4 inline"}),t[4]||(t[4]=g(" Alihkan "))],8,Ue)):d("",!0)]),(c.value||p.value)&&s.user?(n(),o("div",Oe,[e("div",Ke,[e("div",Ee,[m(l(Te),{class:"h-4 w-4 text-gray-500 mr-2"}),e("div",null,[t[5]||(t[5]=e("p",{class:"text-sm font-medium text-gray-700"},"Inspector",-1)),e("p",Ge,a(s.user.name),1)])]),c.value&&s.user.numberPhone?(n(),o("a",{key:0,href:`https://wa.me/${he(s.user.numberPhone)}?text=${encodeURIComponent(be(s))}`,target:"_blank",class:"text-green-600 hover:text-green-800 transition",title:"Kirim pesan WhatsApp ke inspector"},t[6]||(t[6]=[e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.465 3.488"})],-1)]),8,Je)):d("",!0)])])):d("",!0),e("div",Qe,[e("div",null,[e("div",Xe,[m(l(Re),{class:"h-5 w-5 text-blue-500 mr-2"}),t[7]||(t[7]=e("span",{class:"text-sm font-medium text-gray-600"},"Jadwal",-1))]),e("p",Ye,a(new Date(s.inspection_date).toLocaleDateString("id-ID",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})),1)]),m(l(O),{href:r.route("inspection.log",{inspection:x.encryptedIds[s.id]}),class:"text-xs font-semibold text-indigo-600 hover:underline"},{default:L(()=>t[8]||(t[8]=[g(" Lihat Log ")])),_:2,__:[8]},1032,["href"])]),e("div",Ze,[e("div",et,[m(l(P),{class:"h-5 w-5 text-gray-500 mr-2"}),e("div",tt,[s.car?(n(),o("div",st,[g(a(`${s.car.brand.name} ${s.car.model.name} ${s.car.type.name} ${(s.car.cc/1e3).toFixed(1)} ${s.car.transmission} ${s.car.year}`)+" ",1),e("span",rt,"("+a(s.car.fuel_type)+")",1)])):(n(),o("div",nt,a(s.car_name),1))])]),e("div",ot,[t[9]||(t[9]=e("span",{class:"text-xs font-semibold uppercase tracking-wide text-gray-500 mr-2"},"NO POLISI:",-1)),e("span",at,a(s.plate_number),1)]),e("div",it,[s.customer?(n(),o("div",lt,[t[11]||(t[11]=e("p",{class:"text-xs font-medium text-gray-500"},"Customer",-1)),e("div",dt,[e("div",null,[e("p",ut,a(s.customer.name),1),e("p",ct,a(s.customer.phone),1)]),s.customer.phone?(n(),o("a",{key:0,href:`https://wa.me/62${s.customer.phone.replace(/^0/,"")}`,target:"_blank",class:"text-green-600 hover:text-green-800 ml-2",title:"Hubungi via WhatsApp"},t[10]||(t[10]=[e("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.864 3.488"})],-1)]),8,mt)):d("",!0)])])):(n(),o("div",pt,t[12]||(t[12]=[e("p",{class:"text-xs text-yellow-700"},"Data customer belum tersedia",-1)]))),s.transaction?(n(),o("div",{key:2,class:S(["p-2 rounded",{"bg-green-50 border border-green-200":(s==null?void 0:s.transaction.status)==="paid","bg-yellow-50 border border-yellow-200":((ne=s==null?void 0:s.transaction)==null?void 0:ne.status)==="pending"}])},[t[14]||(t[14]=e("p",{class:"text-xs font-medium text-gray-500"},"Pembayaran",-1)),e("div",gt,[t[13]||(t[13]=e("span",null,"Status:",-1)),e("span",{class:S({"text-green-600 font-semibold":(s==null?void 0:s.transaction.status)==="paid","text-yellow-600 font-semibold":((oe=s==null?void 0:s.transaction)==null?void 0:oe.status)==="pending"})},a((s==null?void 0:s.transaction.status)==="paid"?"Lunas":"Menunggu"),3)])],2)):(n(),o("div",vt,t[15]||(t[15]=[e("p",{class:"text-xs text-yellow-700"},"Data transaksi belum tersedia",-1)])))])]),s.category?(n(),o("div",xt,[t[16]||(t[16]=e("p",{class:"text-xs font-medium text-gray-500 tracking-wide"},"Kategori Inspek",-1)),e("p",ft,a(s.category.name),1)])):d("",!0),e("div",yt,[we(s)?(n(),o("button",{key:0,onClick:de(ae=>pe(s),["stop"]),type:"button",class:"flex-1 px-3 py-2 bg-gray-200 text-gray-700 font-medium rounded-md text-sm hover:bg-gray-300 transition-colors"}," Batal ",8,bt)):d("",!0),e("button",{onClick:ae=>me(s),disabled:W(s),class:S(["flex-1 inline-flex items-center justify-center px-3 py-2 font-medium rounded-md text-sm transition-colors",c.value?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:from-blue-700 hover:to-indigo-700":p.value?"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:from-purple-700 hover:to-pink-700":W(s)?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-gradient-to-r from-indigo-700 to-sky-600 text-white hover:from-indigo-800 hover:to-sky-700"])},[g(a(q(s))+" ",1),!c.value&&!p.value&&!W(s)?(n(),N(l(Le),{key:0,class:"ml-2 h-4 w-4"})):d("",!0)],10,ht)])])}),128))])):(n(),o("div",_t,[e("p",wt,a(c.value?"Tidak ada tugas inspeksi yang perlu dimonitor.":p.value?"Tidak ada laporan yang perlu direview.":"Tidak ada tugas inspeksi yang tersedia."),1)])),e("div",kt,[m(l(O),{href:r.route("inspections.history"),class:"inline-block px-4 py-2 text-sm font-medium text-indigo-600 border border-indigo-600 rounded-md hover:bg-blue-50"},{default:L(()=>t[17]||(t[17]=[g(" Lihat Riwayat Inspeksi ")])),_:1,__:[17]},8,["href"])])]),c.value?(n(),N(l(O),{key:0,href:r.route("inspections.create.new"),class:"fixed bottom-24 right-6 z-40 p-4 bg-gradient-to-r from-indigo-700 to-sky-600 shadow-lg text-white rounded-full transition-colors duration-200 animate-bounce",title:"Buat Inspeksi Baru"},{default:L(()=>[m(l(Be),{class:"h-6 w-6"})]),_:1},8,["href"])):d("",!0),j.value&&(T.value||M.value||$.value||p.value)?(n(),o("div",It,[e("div",Ct,[e("div",Mt,[t[20]||(t[20]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Konfirmasi",-1)),e("div",$t,[m(l(P),{class:"h-8 w-8 text-blue-500 mr-3 mt-1"}),e("div",null,[(y=i.value)!=null&&y.car?(n(),o("div",jt,[e("p",At,a(`${i.value.car.brand.name} ${i.value.car.model.name} ${i.value.car.type.name}`),1),e("p",Tt,[g(a(i.value.car.cc)+" â€¢ "+a(i.value.car.transmission)+" â€¢ "+a(i.value.car.year)+" ",1),e("span",Rt,"("+a(i.value.car.fuel_type)+")",1)])])):(n(),o("div",Lt,a((R=i.value)==null?void 0:R.car_name),1)),e("div",Bt,[t[18]||(t[18]=e("span",{class:"text-sm font-semibold uppercase tracking-wide text-gray-500 mr-2"},"no polisi:",-1)),e("span",St,a((J=i.value)==null?void 0:J.plate_number),1)])])]),e("p",Dt,[g(" Anda yakin ingin "+a(q(i.value).toLowerCase())+" inspeksi ini ",1),(Q=i.value)!=null&&Q.category?(n(),o("span",Pt," berdasarkan Type Inspek: "+a(i.value.category.name),1)):d("",!0),t[19]||(t[19]=g("? "))]),e("div",Ft,[e("button",{onClick:f,type:"button",class:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50"}," Batal "),e("button",{onClick:xe,type:"button",disabled:l(V).processing,class:"flex-1 inline-flex items-center justify-center px-4 py-2 bg-gradient-to-r from-indigo-700 to-sky-600 shadow-lg text-white border border-transparent rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"},[l(V).processing?(n(),o("span",Vt,a(ye(i.value)),1)):(n(),o("span",Wt,a(q(i.value)),1))],8,Ht)])])])])):d("",!0),H.value&&c.value?(n(),o("div",qt,[e("div",zt,[e("div",Nt,[e("div",Ut,[t[21]||(t[21]=e("h3",{class:"text-lg font-medium text-gray-900"},"Alihkan Tugas Inspeksi",-1)),e("button",{onClick:f,class:"text-gray-400 hover:text-gray-600"},[m(l(K),{class:"h-6 w-6"})])]),e("div",Ot,[e("div",Kt,[m(l(P),{class:"h-6 w-6 text-gray-500 mr-3 mt-0.5"}),e("div",null,[e("p",Et,a((X=i.value)==null?void 0:X.plate_number),1),e("p",Gt,a((Y=i.value)==null?void 0:Y.car_name),1),e("p",Jt,[t[22]||(t[22]=g(" Inspector saat ini: ")),e("span",Qt,a(((ee=(Z=i.value)==null?void 0:Z.user)==null?void 0:ee.name)||"Belum ditugaskan"),1)])])])]),e("div",Xt,[e("div",null,[t[24]||(t[24]=e("label",{for:"inspector",class:"block text-sm font-medium text-gray-700 mb-1"}," Pilih Inspector Baru * ",-1)),B(e("select",{id:"inspector","onUpdate:modelValue":t[1]||(t[1]=s=>w.value=s),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm"},[t[23]||(t[23]=e("option",{value:""},"-- Pilih Inspector --",-1)),(n(!0),o(ie,null,le(x.inspectors,s=>(n(),o("option",{key:s.id,value:s.id},a(s.name)+" ("+a(s.email)+") ",9,Yt))),128))],512),[[Me,w.value]])]),e("div",null,[t[25]||(t[25]=e("label",{for:"transferReason",class:"block text-sm font-medium text-gray-700 mb-1"}," Alasan Pengalihan * ",-1)),B(e("textarea",{id:"transferReason","onUpdate:modelValue":t[2]||(t[2]=s=>_.value=s),rows:"3",required:"",placeholder:"Masukkan alasan mengapa tugas ini dialihkan...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm"},null,512),[[U,_.value]]),l(b).errors.transfer_reason?(n(),o("p",Zt,a(l(b).errors.transfer_reason),1)):d("",!0)])]),e("div",es,[e("button",{onClick:f,type:"button",class:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50"}," Batal "),e("button",{onClick:fe,disabled:!w.value||!_.value.trim()||l(b).processing,class:"px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white border border-transparent rounded-md text-sm font-medium hover:from-green-700 hover:to-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed"},[l(b).processing?(n(),o("span",ss,[m(l(ue),{class:"h-4 w-4 animate-spin inline mr-2"}),t[26]||(t[26]=g(" Mengalihkan... "))])):(n(),o("span",rs,"Alihkan Tugas"))],8,ts)])])])])):d("",!0),F.value&&(T.value||M.value||$.value||c.value||p.value)?(n(),o("div",ns,[e("div",os,[e("div",as,[e("div",is,[t[27]||(t[27]=e("h3",{class:"text-lg font-medium text-gray-900"},"Batalkan Inspeksi",-1)),e("button",{onClick:f,class:"text-gray-400 hover:text-gray-600"},[m(l(K),{class:"h-6 w-6"})])]),e("div",ls,[m(l(P),{class:"h-8 w-8 text-red-500 mr-3 mt-1"}),e("div",null,[(te=i.value)!=null&&te.car?(n(),o("div",ds,[e("p",us,a(`${i.value.car.brand.name} ${i.value.car.model.name} ${i.value.car.type.name}`),1),e("p",cs,[g(a(i.value.car.cc)+" â€¢ "+a(i.value.car.transmission)+" â€¢ "+a(i.value.car.year)+" ",1),e("span",ms,"("+a(i.value.car.fuel_type)+")",1)])])):(n(),o("div",ps,a((se=i.value)==null?void 0:se.car_name),1)),e("div",gs,[t[28]||(t[28]=e("span",{class:"text-sm font-semibold uppercase tracking-wide text-gray-500 mr-2"},"no polisi:",-1)),e("span",vs,a((re=i.value)==null?void 0:re.plate_number),1)])])]),e("div",xs,[t[29]||(t[29]=e("label",{for:"cancelReason",class:"block text-sm font-medium text-gray-700 mb-2"}," Alasan Pembatalan * ",-1)),B(e("textarea",{id:"cancelReason","onUpdate:modelValue":t[3]||(t[3]=s=>h.value=s),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Masukkan alasan pembatalan inspeksi...",required:""},null,512),[[U,h.value]]),l(k).errors.reason?(n(),o("p",fs,a(l(k).errors.reason),1)):d("",!0)]),e("div",ys,[e("button",{onClick:f,type:"button",class:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50"}," Tutup "),e("button",{onClick:ve,disabled:!h.value.trim()||l(k).processing,class:"px-4 py-2 bg-red-600 text-white border border-transparent rounded-md text-sm font-medium hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed"},[l(k).processing?(n(),o("span",hs,"Memproses...")):(n(),o("span",_s,"Batalkan Inspeksi"))],8,bs)])])])])):d("",!0)]}),_:1}))}},js=je(ws,[["__scopeId","data-v-c8fe415a"]]);export{js as default};
