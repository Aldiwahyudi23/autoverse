import{p as ee,q as r,r as x,j as w,o,w as y,k as g,d as t,b as c,c as i,u as p,v as te,t as v,S as b,f as m,n as k,F as B,z as se,A as ne,W as N}from"./vendor-CUNG9NG6.js";import{A as oe}from"./AppLayout-CDG1ZNL3.js";import{_ as ie}from"./CardCustomer-BhXg_APy.js";import{_ as ae,a as le}from"./AllDataModal-Bpy7YhcX.js";import{_ as re}from"./app-BEb0DUDJ.js";import{r as de,C as ue}from"./car-BY-n8Rlm.js";import{r as ce}from"./ClipboardDocumentListIcon-Im25FWRS.js";import"./debounce-hB1Swk-4.js";const me={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},pe={class:"bg-white rounded-xl shadow-md overflow-hidden border border-gray-200"},ve={class:"p-4 flex justify-between items-start"},fe={class:"flex items-center mb-1"},ge={class:"text-sm font-semibold text-blue-700 ml-7 -mt-1"},xe={class:"px-4 py-3 bg-gray-50 border-t border-gray-100"},ye={class:"flex items-center"},he={key:0,class:"mr-2"},be=["src"],we={class:"text-sm font-medium text-gray-800"},ke={key:0},Ce={class:"text-gray-600"},Ie={key:1},je={class:"flex items-center justify-between mt-2"},Ae={class:"flex items-center"},Me={class:"text-sm font-bold text-gray-900"},$e={class:"px-4 py-3 bg-white border-t border-gray-100"},De={class:"flex justify-between items-center mb-3"},Be={class:"px-4 py-3 bg-white border-t border-gray-100"},ze={key:0,class:"p-2 bg-blue-50 border border-blue-200 rounded"},Le={class:"flex items-center justify-between"},Ve={class:"text-sm font-semibold text-blue-800"},Se={key:0,class:"text-xs text-blue-700"},He=["href"],Te={key:1,class:"p-2 bg-yellow-50 border border-yellow-200 rounded"},Pe={key:0,class:"px-4 py-2 bg-white border-t border-gray-100"},Fe={class:"text-sm text-gray-800"},Re={class:"px-4 py-3 bg-gray-50 border-t border-gray-100"},Ee={class:"flex items-center mb-1"},Oe={class:"text-sm font-semibold text-gray-800 ml-7 -mt-1"},Ne={key:0,class:"mt-3 mb-3"},Ke={class:"text-sm font-semibold text-gray-800 ml-7 -mt-1 flex items-center"},We={class:"bg-blue-100 text-blue-800 px-2 py-1 rounded-md font-mono"},qe={class:"mt-3"},Ue={class:"text-sm text-gray-800"},Ge=["innerHTML"],Je={class:"p-4 flex gap-2"},Qe={key:0},Ye={key:1},Xe=["disabled"],Ze={key:0},_e={key:1},et=["href","disabled"],tt={key:0},st={key:1},nt={key:1,class:"flex-1 flex items-center justify-center px-3 py-2 bg-gray-200 text-gray-600 font-medium rounded-md text-sm"},ot=["disabled"],it=["href","disabled"],at={key:0},lt={key:1},rt={key:0},dt={key:1},ut={key:1,class:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50"},ct={class:"bg-white p-6 rounded-lg shadow-xl w-96"},mt={class:"flex justify-end space-x-4"},pt=["disabled"],vt={key:0,class:"flex items-center"},ft={key:1},gt={key:2,class:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50"},xt={class:"bg-white p-6 rounded-lg shadow-xl w-96"},yt={class:"flex justify-end space-x-4 mt-6"},ht=["disabled"],bt={class:"relative max-w-4xl max-h-full p-4"},wt=["src"],kt={__name:"Review",props:{inspection:{type:Object,required:!0},encryptedIds:Object,transaction:Object,coverImage:Object||null},setup(s){var O;const u=s,f=((O=ee().props.global)==null?void 0:O.roles)||[],H=r(()=>f.includes("Admin")||f.includes("coordinator"));r(()=>f.includes("coordinator"));const K=r(()=>f.includes("admin_plann"));r(()=>f.includes("Admin"));const W=r(()=>f.includes("admin_plann")?"Admin AutoInspeksi":f.includes("coordinator")?"Koordinator AutoInspeksi":f.includes("inspector")?"Inspektor AutoInspeksi":f.includes("quality_control")?"QC AutoInspeksi":"Staff AutoInspeksi"),z=x(!1),j=x(!1),C=x(!1),A=x(!1),T=x(""),a=x(!1),d=x(null),M=x(u.coverImage),q=n=>n&&n.length>0,P=n=>`/${n}`,$=r(()=>u.inspection.customer_id!==null),I=r(()=>u.transaction!==null),F=r(()=>{var n;return((n=u.transaction)==null?void 0:n.status)==="paid"});r(()=>{var n;return((n=u.transaction)==null?void 0:n.status)==="pending"});const U=r(()=>{var n;return((n=u.inspection)==null?void 0:n.status)==="rejected"});r(()=>{var n;return((n=u.inspection)==null?void 0:n.status)==="completed"});const G=r(()=>{var n;return((n=u.inspection)==null?void 0:n.status)==="cancelled"});r(()=>{var n;return((n=u.inspection)==null?void 0:n.status)==="pending"});const L=r(()=>U.value||G.value),h=r(()=>{var n;return I.value&&F.value&&((n=u.transaction)==null?void 0:n.amount)>0}),V=r(()=>$.value&&I.value&&F.value),J=r(()=>!$.value&&!I.value?"Tambah Data":$.value&&!I.value?"Tambah Pembayaran":!$.value&&I.value?"Tambahkan Data Customer":"Perbaharui Data"),Q=n=>{switch(n){case"draft":return"Dibuat";case"in_progress":return"Dalam Proses";case"pending":return"Menunggu";case"pending_review":return"Menunggu Review";case"approved":return"Disetujui";case"rejected":return"Ditolak";case"revision":return"Revisi";case"completed":return"Selesai";case"cancelled":return"Dibatalkan";default:return n}},S=()=>{C.value=!0},D=(n,e)=>{a.value=!0,d.value=e,N.visit(n,{onFinish:()=>{a.value=!1,d.value=null}})},R=n=>{a.value=!0,d.value="download",setTimeout(()=>{a.value=!1,d.value=null},1500)},Y=async n=>{try{await navigator.clipboard.writeText(n),alert(`ID Inspeksi "${n}" berhasil disalin!`)}catch(e){console.error("Gagal menyalin teks: ",e),X(n)}},X=n=>{const e=document.createElement("textarea");e.value=n,e.style.position="fixed",e.style.left="-999999px",e.style.top="-999999px",document.body.appendChild(e),e.focus(),e.select();try{const l=document.execCommand("copy");alert(l?`ID Inspeksi "${n}" berhasil disalin!`:"Gagal menyalin ID Inspeksi.")}catch(l){console.error("Fallback pun gagal: ",l),alert("Browser tidak mendukung aksi salin.")}finally{document.body.removeChild(e)}},Z=()=>{N.reload()},_=()=>{alert("Fitur pengiriman email masih dalam pengembangan"),j.value=!1},E=r(()=>u.inspection.customer&&u.inspection.customer.sellers&&(u.inspection.customer.sellers.find(n=>n.inspection_id===u.inspection.id)||u.inspection.customer.sellers[0])||null);return(n,e)=>(o(),w(oe,null,{default:y(()=>[g(p(te),{title:"Review Inspeksi"}),t("div",me,[e[41]||(e[41]=t("h3",{class:"text-xl md:text-3xl font-bold text-gray-900 mb-6 text-center"}," Inspeksi yang Harus Diselesaikan ",-1)),t("div",pe,[t("div",ve,[t("div",null,[t("div",fe,[g(p(de),{class:"h-5 w-5 text-blue-500 mr-2"}),e[17]||(e[17]=t("span",{class:"text-sm font-medium text-gray-600"},"Jadwal",-1))]),t("p",ge,v(new Date(s.inspection.inspection_date).toLocaleDateString("id-ID",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})),1)]),g(p(b),{href:n.route("inspection.log",s.encryptedIds),class:"text-xs font-semibold text-indigo-600 hover:underline"},{default:y(()=>e[18]||(e[18]=[m(" Lihat Log ")])),_:1,__:[18]},8,["href"])]),t("div",xe,[t("div",ye,[M.value&&q(M.value.image_path)?(o(),i("div",he,[t("img",{src:P(M.value.image_path),alt:"Cover Image",class:"h-12 w-12 object-cover rounded cursor-pointer hover:opacity-80 transition-opacity",onClick:e[0]||(e[0]=l=>A.value=!0)},null,8,be)])):(o(),w(p(ue),{key:1,class:"h-5 w-5 text-gray-500 mr-2"})),t("div",we,[s.inspection.car?(o(),i("div",ke,[m(v(`${s.inspection.car.brand.name} ${s.inspection.car.model.name} ${s.inspection.car.type.name} ${(s.inspection.car.cc/1e3).toFixed(1)} ${s.inspection.car.transmission} ${s.inspection.car.year}`)+" ",1),t("span",Ce,"("+v(s.inspection.car.fuel_type)+")",1)])):(o(),i("div",Ie,v(s.inspection.car_name),1))])]),t("div",je,[t("div",Ae,[e[19]||(e[19]=t("span",{class:"text-xs font-semibold uppercase tracking-wide text-gray-500 mr-2"},"NO POLISI:",-1)),t("span",Me,v(s.inspection.plate_number),1)]),s.inspection.status==="draft"&&H.value||K.value?(o(),w(p(b),{key:0,href:n.route("coordinator.inspections.show",s.encryptedIds),class:"text-xs font-semibold text-indigo-600 hover:underline"},{default:y(()=>e[20]||(e[20]=[m(" Alihkan Tugas ")])),_:1,__:[20]},8,["href"])):c("",!0)])]),t("div",$e,[t("div",De,[e[21]||(e[21]=t("h4",{class:"text-sm font-medium text-gray-700"},"Informasi Customer & Pembayaran ",-1)),!V.value&&!L.value?(o(),i("button",{key:0,onClick:S,class:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded hover:bg-blue-200"},v(J.value),1)):c("",!0)]),g(ie,{customer:s.inspection.customer,seller:E.value,"show-edit-button":!L.value&&!V.value,inspection:s.inspection,"user-role":W.value,onEdit:S},null,8,["customer","seller","show-edit-button","inspection","user-role"]),g(ae,{transaction:s.transaction,"show-edit-button":!L.value&&!V.value,onEdit:S},null,8,["transaction","show-edit-button"])]),t("div",Be,[e[24]||(e[24]=t("div",{class:"flex justify-between items-center mb-3"},[t("h4",{class:"text-sm font-medium text-gray-700"},"Informasi Inspektor")],-1)),s.inspection.user?(o(),i("div",ze,[t("div",Le,[t("div",null,[t("p",Ve,v(s.inspection.user.name),1),s.inspection.user.numberPhone?(o(),i("p",Se,v(s.inspection.user.numberPhone),1)):c("",!0)]),s.inspection.user.numberPhone?(o(),i("a",{key:0,href:`https://wa.me/62${s.inspection.user.numberPhone.replace(/^0/,"")}`,target:"_blank",class:"text-blue-600 hover:text-blue-800 ml-2",title:"Hubungi via WhatsApp"},e[22]||(e[22]=[t("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c 0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.864 3.488"})],-1)]),8,He)):c("",!0)])])):(o(),i("div",Te,e[23]||(e[23]=[t("p",{class:"text-xs text-yellow-700"},"Inspektor belum ditugaskan",-1)])))]),s.inspection.category?(o(),i("div",Pe,[e[25]||(e[25]=t("p",{class:"text-xs font-medium text-gray-500 tracking-wide"}," Kategori Inspeksi ",-1)),t("p",Fe,v(s.inspection.category.name),1)])):c("",!0),t("div",Re,[t("div",Ee,[g(p(ce),{class:"h-5 w-5 text-green-500 mr-2"}),e[26]||(e[26]=t("span",{class:"text-sm font-medium text-gray-600"},"Status",-1))]),t("p",Oe,v(Q(s.inspection.status)),1),(s.inspection.status==="approved"||s.inspection.status==="completed")&&s.inspection.file&&h.value?(o(),i("div",Ne,[e[28]||(e[28]=t("div",{class:"flex items-center mb-1"},[t("svg",{class:"h-5 w-5 text-blue-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})]),t("span",{class:"text-sm font-medium text-gray-600"},"ID Inspeksi (Untuk Buka File)")],-1)),t("p",Ke,[t("span",We,v(s.inspection.code),1),t("button",{onClick:e[1]||(e[1]=l=>Y(s.inspection.code)),class:"ml-2 text-blue-500 hover:text-blue-700",title:"Salin ID"},e[27]||(e[27]=[t("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})],-1)]))])])):c("",!0),t("div",qe,[e[29]||(e[29]=t("p",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide"}," Catatan ",-1)),t("p",Ue,[t("div",{innerHTML:s.inspection.notes||"-"},null,8,Ge)])])]),t("div",Je,[s.inspection.status==="in_progress"?(o(),w(p(b),{key:0,href:n.route("inspections.review.pdf",s.encryptedIds),disabled:a.value,onClick:e[2]||(e[2]=l=>D(n.route("inspections.review.pdf",s.encryptedIds),"lihat_laporan")),class:k(["flex-1 inline-flex items-center justify-center px-3 py-2 bg-gradient-to-r from-indigo-700 to-sky-600 shadow-lg text-white font-medium rounded-md text-sm transition-colors hover:from-indigo-800 hover:to-sky-700",{"opacity-50 cursor-not-allowed":a.value&&d.value==="lihat_laporan"}])},{default:y(()=>[a.value&&d.value==="lihat_laporan"?(o(),i("span",Qe,e[30]||(e[30]=[t("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),m(" Memuat Halaman... ")]))):(o(),i("span",Ye,"Lihat Proses Inspeksi"))]),_:1},8,["href","disabled","class"])):c("",!0),s.inspection.status==="pending_review"?(o(),i(B,{key:1},[t("button",{onClick:e[3]||(e[3]=l=>z.value=!0),class:"flex-2 px-3 py-2 bg-yellow-500 text-white font-medium rounded-md text-sm transition-colors hover:bg-yellow-600",disabled:a.value}," Revisi ",8,Xe),g(p(b),{href:n.route("inspections.review.pdf",s.encryptedIds),disabled:a.value,onClick:e[4]||(e[4]=l=>D(n.route("inspections.review.pdf",s.encryptedIds),"lihat_laporan")),class:k(["flex-1 inline-flex items-center justify-center px-3 py-2 bg-gradient-to-r from-indigo-700 to-sky-600 shadow-lg text-white font-medium rounded-md text-sm transition-colors hover:from-indigo-800 hover:to-sky-700",{"opacity-50 cursor-not-allowed":a.value&&d.value==="lihat_laporan"}])},{default:y(()=>[a.value&&d.value==="lihat_laporan"?(o(),i("span",Ze,e[31]||(e[31]=[t("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),m(" Memuat Laporan... ")]))):(o(),i("span",_e,"Lihat Laporan PDF"))]),_:1},8,["href","disabled","class"])],64)):s.inspection.status==="approved"&&s.inspection.file?(o(),i(B,{key:2},[h.value?(o(),i("a",{key:0,href:n.route("inspections.download.approved.pdf",s.encryptedIds),onClick:e[5]||(e[5]=l=>R(n.route("inspections.download.approved.pdf",s.encryptedIds))),class:k(["flex-1 inline-flex items-center justify-center px-3 py-2 bg-blue-600 text-white font-medium rounded-md text-sm transition-colors hover:bg-blue-700",{"opacity-50 cursor-not-allowed":a.value&&d.value==="download"}]),disabled:a.value,download:""},[a.value&&d.value==="download"?(o(),i("span",tt,e[32]||(e[32]=[t("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),m(" Sedang di download... ")]))):(o(),i("span",st,e[33]||(e[33]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline-block mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),m(" PDF ")])))],10,et)):(o(),i("div",nt,e[34]||(e[34]=[t("span",{class:"text-xs"},"Transaksi belum selesai",-1)]))),g(p(b),{href:n.route("inspections.whatsapp",s.encryptedIds),class:"flex-1 inline-flex items-center justify-center px-3 py-2 bg-green-600 text-white font-medium rounded-md text-sm transition-colors hover:bg-green-700"},{default:y(()=>e[35]||(e[35]=[t("svg",{class:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.864 3.488"})],-1),m(" WhatsApp ")])),_:1,__:[35]},8,["href"]),t("button",{onClick:e[6]||(e[6]=l=>j.value=!0),class:"flex-1 inline-flex items-center justify-center px-3 py-2 bg-teal-500 text-white font-medium rounded-md text-sm transition-colors hover:bg-teal-600",disabled:a.value},e[36]||(e[36]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 mr-2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25 2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})],-1),m(" Email ")]),8,ot)],64)):c("",!0),s.inspection.status==="completed"&&s.inspection.file&&H.value?(o(),i("a",{key:3,href:h.value?n.route("inspections.download.approved.pdf",s.encryptedIds):null,onClick:e[7]||(e[7]=l=>h.value&&R(n.route("inspections.download.approved.pdf",s.encryptedIds))),class:k(["flex-1 inline-flex items-center justify-center px-3 py-2 font-medium rounded-md text-sm transition-colors",[h.value?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"]]),disabled:!h.value||a.value&&d.value==="download"},[a.value&&d.value==="download"?(o(),i("span",at,e[37]||(e[37]=[t("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),m(" Sedang diunduh... ")]))):(o(),i("span",lt,[h.value?(o(),i(B,{key:0},[e[38]||(e[38]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline-block mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e[39]||(e[39]=m(" Download PDF "))],64)):(o(),i(B,{key:1},[m(" PDF tersedia â€” selesaikan transaksi untuk mengunduh ")],64))]))],10,it)):c("",!0)]),s.inspection.status==="approved"&&s.inspection.file?(o(),w(p(b),{key:1,href:n.route("inspections.review.pdf",s.encryptedIds),disabled:a.value,onClick:e[8]||(e[8]=l=>D(n.route("inspections.review.pdf",s.encryptedIds),"lihat_laporan")),class:k(["inline-flex items-center justify-center w-full px-3 py-2 bg-gradient-to-r from-indigo-700 to-sky-600 shadow-lg text-white font-medium rounded-md text-sm transition-colors hover:from-indigo-800 hover:to-sky-700",{"opacity-50 cursor-not-allowed":a.value&&d.value==="lihat_laporan"}])},{default:y(()=>[a.value&&d.value==="lihat_laporan"?(o(),i("span",rt,e[40]||(e[40]=[t("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),m(" Memuat Laporan... ")]))):(o(),i("span",dt,"Lihat Laporan"))]),_:1},8,["href","disabled","class"])):c("",!0)])]),C.value?(o(),w(le,{key:0,show:C.value,"inspection-id":s.encryptedIds,"existing-customer":s.inspection.customer,"existing-seller":E.value,"existing-transaction":s.transaction,onClose:e[9]||(e[9]=l=>C.value=!1),onReopen:e[10]||(e[10]=l=>C.value=!0),onSaved:Z},null,8,["show","inspection-id","existing-customer","existing-seller","existing-transaction"])):c("",!0),z.value?(o(),i("div",ut,[t("div",ct,[e[43]||(e[43]=t("h3",{class:"text-lg font-bold mb-4"},"Konfirmasi Revisi",-1)),e[44]||(e[44]=t("p",{class:"text-gray-700 mb-2"}," Apakah Anda yakin ingin revisi pada laporan ini? ",-1)),e[45]||(e[45]=t("p",{class:"text-gray-700 mb-4"},"Setelah ini akan masuk ke halaman Inspeksi.",-1)),t("div",mt,[t("button",{onClick:e[11]||(e[11]=l=>z.value=!1),disabled:a.value,class:"bg-gray-300 text-gray-800 px-4 py-2 rounded-md hover:bg-gray-400"}," Batal ",8,pt),g(p(b),{href:n.route("inspections.revisi",s.encryptedIds),disabled:a.value,onClick:e[12]||(e[12]=l=>D(n.route("inspections.revisi",s.encryptedIds),"revisi")),class:k(["bg-yellow-500 text-white px-4 py-2 rounded-md hover:bg-yellow-600",{"opacity-50 cursor-not-allowed":a.value&&d.value==="revisi"}])},{default:y(()=>[a.value&&d.value==="revisi"?(o(),i("span",vt,e[42]||(e[42]=[t("svg",{class:"animate-spin h-5 w-5 text-white mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),m(" Memproses... ")]))):(o(),i("span",ft,"Ya, Revisi"))]),_:1},8,["href","disabled","class"])])])])):c("",!0),j.value?(o(),i("div",gt,[t("div",xt,[e[46]||(e[46]=t("h3",{class:"text-lg font-bold mb-4"},"Kirim Laporan Via Email",-1)),e[47]||(e[47]=t("p",{class:"text-gray-700 mb-2"}," Masukkan alamat email tujuan: ",-1)),se(t("input",{type:"email","onUpdate:modelValue":e[13]||(e[13]=l=>T.value=l),class:"w-full px-3 py-2 border rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"contoh@email.com"},null,512),[[ne,T.value]]),t("div",yt,[t("button",{onClick:e[14]||(e[14]=l=>j.value=!1),disabled:a.value,class:"bg-gray-300 text-gray-800 px-4 py-2 rounded-md hover:bg-gray-400"}," Batal ",8,ht),t("button",{onClick:_,disabled:!0,class:"bg-teal-500 text-white px-4 py-2 rounded-md hover:bg-teal-600 opacity-50 cursor-not-allowed"}," Masih dalam pengembangan ")])])])):c("",!0),A.value?(o(),i("div",{key:3,class:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",onClick:e[16]||(e[16]=l=>A.value=!1)},[t("div",bt,[t("img",{src:P(M.value.image_path),alt:"Full Cover Image",class:"max-w-full max-h-full object-contain"},null,8,wt),t("button",{onClick:e[15]||(e[15]=l=>A.value=!1),class:"absolute top-2 right-2 text-white bg-black bg-opacity-50 rounded-full p-2 hover:bg-opacity-75"},e[48]||(e[48]=[t("svg",{class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])])):c("",!0)]),_:1}))}},Lt=re(kt,[["__scopeId","data-v-15348d8c"]]);export{Lt as default};
