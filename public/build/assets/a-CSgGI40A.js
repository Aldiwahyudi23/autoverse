import{x as Fe,p as Ke,r as u,q as j,g as qe,E as He,H as ce,G as Je,j as Oe,o as l,w as Ye,k as Ge,d as s,u as p,v as Re,c as r,b as m,t as d,z as f,A as D,F as _,m as w,I as M,n as ve,J as We,f as Ze,C as Qe,y as se}from"./vendor-g77w9U1W.js";import{A as Xe}from"./AppLayout-BmDQdJtK.js";import{_ as et}from"./app-o8vJnppO.js";const tt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},st={class:"space-y-6 bg-white rounded-xl shadow-md p-6"},ot={key:0,class:"mb-4 text-sm text-red-600 bg-red-100 p-3 rounded-md"},lt={class:"mb-6"},at={class:"flex items-center space-x-2"},rt={key:0,class:"mt-2 text-sm text-red-600"},nt={key:1,class:"mt-2 text-sm text-green-600"},it={key:2,class:"mt-2 text-sm text-yellow-600"},ut={class:"mb-6"},dt={class:"mb-4"},ct=["disabled"],vt=["value"],pt={class:"mb-4"},mt=["disabled"],gt=["value"],ft={class:"mb-4"},bt=["disabled"],yt=["value"],xt={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},ht=["disabled"],kt=["value"],_t=["disabled"],wt=["value"],Ct={class:"mb-4"},$t={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},Mt=["value","disabled"],It={class:"flex w-full items-center justify-between"},Tt={class:"flex items-center"},Vt={class:"text-sm"},At={class:"font-medium text-gray-900"},Bt={class:"shrink-0 text-indigo-600"},Pt={class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none"},jt={key:0,cx:"12",cy:"12",r:"6",fill:"currentColor"},Ut={class:"mb-4"},Et=["disabled"],Lt=["value"],St={class:"mb-4"},Dt=["disabled"],Nt=["value"],zt={key:0,class:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg"},Ft={class:"text-green-700"},Kt={key:1,class:"mt-2 text-sm text-gray-500 flex items-center"},qt={class:"mb-6"},Ht=["value"],Jt={class:"mb-6 flex items-center justify-between"},Ot={class:"relative inline-flex items-center cursor-pointer"},Yt=["disabled"],Gt={key:1,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Rt={key:0,class:"mb-6"},Wt=["value"],Zt={class:"mt-6 flex justify-end"},Qt=["disabled"],Xt={key:2,class:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200"},es={key:0,class:"mb-4"},ts=["innerHTML"],ss={key:1},os={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"},ls=["onClick"],as=["src","alt"],rs={key:0,class:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center p-2"},ns={class:"text-white text-xs text-center"},is={key:2,class:"text-center py-4 text-gray-500 text-sm"},us={class:"relative max-w-4xl max-h-full w-full h-full flex items-center justify-center"},ds=["src","alt"],cs={key:2,class:"absolute bottom-4 left-1/2 transform -translate-x-1/2 text-white bg-black bg-opacity-50 px-3 py-1 rounded-full text-sm"},vs={key:3,class:"absolute bottom-4 left-4 text-white bg-black bg-opacity-50 px-3 py-1 rounded text-sm max-w-md"},ps={__name:"a",props:{CarDetail:Array,Category:Array,team:Array,inspection:Array,activeInspections:Boolean},setup(oe){const K=oe,a=Fe({plate_number:"",car_id:null,car_name:"",category_id:"",is_scheduled:!1,scheduled_at_date:null,scheduled_at_time:null,inspector_id:null}),q=Ke(),H=q.props.global.user,pe=q.props.global.region,I=q.props.global.has_roles,le=o=>(o/1e3).toFixed(1)+"L",V=u(""),A=u(""),U=u(""),E=u(""),P=u(""),g=u(""),y=u(""),k=u(""),h=u(""),T=u(""),L=u(""),i=u(null),ae=u([]),J=u([]),O=u([]),Y=u([]),G=u([]),R=u([]),W=u([]),Z=u([]),c=u({brand:!1,model:!1,type:!1,capacity:!1,year:!1,transmission:!1,fuel:!1,period:!1}),me=j(()=>Object.values(c.value).some(o=>o)),b=u([]),N=u(""),Q=u(!1),z=u(""),F=u(!1),C=u(0),re=j(()=>K.activeInspections),ge=j(()=>{const o=V.value.trim().length>=1,e=A.value.trim().length>=1;return!(!(o&&e)||!a.plate_number.trim()||!a.category_id||!i.value||a.is_scheduled&&(!a.scheduled_at_date||!a.scheduled_at_time)||(I.includes("Admin")||I.includes("coordinator"))&&!a.inspector_id)}),fe=j(()=>a.is_scheduled?"Buat Jadwal":"Mulai Inspeksi"),be=j(()=>{const o=K.team.filter(t=>t.status==="active"),e=I.includes("Admin"),n=I.includes("coordinator");return e?o:n?o.filter(t=>t.region_id===pe.id):[]}),X=o=>({AT:"Automatic",MT:"Manual",CVT:"CVT",AMT:"AMT"})[o]||o,$=async(o,e={})=>{const n=new AbortController,t=setTimeout(()=>n.abort(),5e3);try{const v=await fetch(o,{...e,signal:n.signal});return clearTimeout(t),v}catch(v){throw clearTimeout(t),v}},ye=async()=>{c.value.brand=!0;try{const o=await $("/api/car-brands");ae.value=await o.json()}catch(o){console.error("Error fetching brands:",o)}finally{c.value.brand=!1}},xe=async o=>{if(o){c.value.model=!0;try{const e=await $(`/api/car-models/${o}`);J.value=await e.json()}catch(e){console.error("Error fetching models:",e)}finally{c.value.model=!1}}},he=async o=>{if(o){c.value.type=!0;try{const e=await $(`/api/car-types/${o}`);O.value=await e.json()}catch(e){console.error("Error fetching types:",e)}finally{c.value.type=!1}}},ke=async o=>{if(o){c.value.capacity=!0;try{const e=await $(`/api/car-capacities/${o}`);Y.value=await e.json()}catch(e){console.error("Error fetching capacities:",e)}finally{c.value.capacity=!1}}},_e=async(o,e)=>{if(!(!o||!e)){c.value.year=!0;try{const n=await $(`/api/car-years/${o}/${e}`);G.value=await n.json()}catch(n){console.error("Error fetching years:",n)}finally{c.value.year=!1}}},we=async(o,e,n)=>{if(!(!o||!e||!n)){c.value.transmission=!0;try{const t=await $(`/api/car-transmissions/${o}/${e}/${n}`);R.value=await t.json()}catch(t){console.error("Error fetching transmissions:",t)}finally{c.value.transmission=!1}}},Ce=async(o,e,n,t)=>{if(!(!o||!e||!n||!t)){c.value.fuel=!0;try{const v=await $(`/api/car-fuels/${o}/${e}/${n}/${t}`);W.value=await v.json()}catch(v){console.error("Error fetching fuels:",v)}finally{c.value.fuel=!1}}},$e=async(o,e,n,t,v)=>{if(!(!o||!e||!n||!t||!v)){c.value.period=!0;try{const x=await $(`/api/car-periods/${o}/${e}/${n}/${t}/${v}`);Z.value=await x.json()}catch(x){console.error("Error fetching periods:",x)}finally{c.value.period=!1}}},Me=async(o,e,n,t,v,x)=>{if(!(!o||!e||!n||!t||!v||!x))try{const S=await $(`/api/car-details/${o}/${e}/${n}/${t}/${v}/${x}`);i.value=await S.json(),i.value&&(a.car_id=i.value.id,a.car_name=`${i.value.brand.name} ${i.value.model.name} ${i.value.type.name} ${le(i.value.cc)} ${X(i.value.transmission)} ${i.value.fuel_type} ${i.value.year} (${i.value.production_period})`,await Se(i.value.id))}catch(S){console.error("Error fetching car detail:",S)}},Ie=()=>{B(["model","type","capacity","year","transmission","fuel","period"]),E.value&&xe(E.value)},Te=()=>{B(["type","capacity","year","transmission","fuel","period"]),P.value&&he(P.value)},Ve=()=>{B(["capacity","year","transmission","fuel","period"]),g.value&&ke(g.value)},Ae=()=>{B(["year","transmission","fuel","period"]),g.value&&y.value&&_e(g.value,y.value)},Be=()=>{B(["transmission","fuel","period"]),g.value&&y.value&&k.value&&we(g.value,y.value,k.value)},Pe=()=>{B(["fuel","period"]),g.value&&y.value&&k.value&&h.value&&Ce(g.value,y.value,k.value,h.value)},je=()=>{B(["period"]),g.value&&y.value&&k.value&&h.value&&T.value&&$e(g.value,y.value,k.value,h.value,T.value)},Ue=()=>{i.value=null,g.value&&y.value&&k.value&&h.value&&T.value&&L.value&&Me(g.value,y.value,k.value,h.value,T.value,L.value)},B=o=>{o.forEach(e=>{e==="model"&&(P.value=""),e==="type"&&(g.value=""),e==="capacity"&&(y.value=""),e==="year"&&(k.value=""),e==="transmission"&&(h.value=""),e==="fuel"&&(T.value=""),e==="period"&&(L.value="")}),i.value=null,o.includes("model")&&(J.value=[]),o.includes("type")&&(O.value=[]),o.includes("capacity")&&(Y.value=[]),o.includes("year")&&(G.value=[]),o.includes("transmission")&&(R.value=[]),o.includes("fuel")&&(W.value=[]),o.includes("period")&&(Z.value=[])},Ee=()=>{a.plate_number=`${V.value}${A.value}${U.value}`.toUpperCase()},ee=o=>{o==="area"?V.value=V.value.toUpperCase().replace(/[^A-Z]/g,""):o==="number"?A.value=A.value.replace(/[^0-9]/g,""):o==="suffix"&&(U.value=U.value.toUpperCase().replace(/[^A-Z]/g,"")),Ee()},Le=j(()=>V.value.trim().length>0&&A.value.trim().length>0),Se=async o=>{try{const e=await $(`/api/cars/${o}/images`);if(e.ok){const n=await e.json();b.value=Array.isArray(n)?n:[]}else b.value=[]}catch(e){console.error("Error loading car images:",e),b.value=[]}},ne=o=>o!=null&&o.file_path?`/storage/${o.file_path}`:"",De=o=>{C.value=o,F.value=!0,document.body.style.overflow="hidden"},te=()=>{F.value=!1,document.body.style.overflow=""},ie=()=>{C.value=(C.value+1)%b.value.length},ue=()=>{C.value=(C.value-1+b.value.length)%b.value.length},de=o=>{if(F.value)switch(o.key){case"Escape":te();break;case"ArrowRight":ie();break;case"ArrowLeft":ue();break}};qe(()=>{window.addEventListener("keydown",de),ye()}),He(()=>{window.removeEventListener("keydown",de)}),ce(()=>{I.includes("Admin")||I.includes("coordinator")||(a.inspector_id=(H==null?void 0:H.id)||null)}),ce(()=>{re.value&&(a.is_scheduled=!0)}),Je(()=>a.plate_number,o=>{if(N.value="",Q.value=!1,z.value="",o.length>=6){const e=K.inspection.filter(n=>n.plate_number===o);if(e.length>0){const n=["draft","in_progress","pending","pending_review","revision"],t=e.find(v=>n.includes(v.status));if(t)Q.value=!0,N.value=`Nomor plat ini sedang dalam proses inspeksi dengan status: ${t.status.replace(/_/g," ").toUpperCase()}. Silakan selesaikan inspeksi tersebut terlebih dahulu.`;else{const v=e.filter(x=>["approved","rejected","completed","cancelled"].includes(x.status));if(v.length>0){v.sort((S,ze)=>new Date(ze.created_at)-new Date(S.created_at));const x=v[0];a.car_id=x.car_id,a.car_name=x.car_name,carSearchQuery.value=x.car_name,selectCar(x.car),z.value=`Nomor plat ini sudah pernah diperiksa ${v.length} kali sebelumnya.`}}}}});const Ne=()=>{a.plate_number,a.car_id,a.car_name,a.category_id,a.is_scheduled,a.inspector_id,a.is_scheduled&&`${a.scheduled_at_date}${a.scheduled_at_time}`,a.post(route("inspections.store"),{preserveScroll:!0,onSuccess:o=>{},onError:()=>{}})};return(o,e)=>(l(),Oe(Xe,{title:"Buat Inspeksi Baru"},{default:Ye(()=>{var n;return[Ge(p(Re),{title:"Inspek Baru"}),s("div",tt,[s("div",st,[e[53]||(e[53]=s("div",{class:"mb-4"},[s("h3",{class:"text-xl md:text-3xl font-bold text-gray-900 mb-6 text-center"},"Buat Inspeksi Baru"),s("p",{class:"text-gray-600"},"Isi detail kendaraan dan jadwal untuk memulai inspeksi.")],-1)),p(a).errors.form_error?(l(),r("div",ot,d(p(a).errors.form_error),1)):m("",!0),s("div",lt,[e[20]||(e[20]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Nomor Plat Kendaraan ",-1)),s("div",at,[f(s("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>V.value=t),type:"text",placeholder:"D",class:"w-1/4 rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm text-center transition duration-150",onInput:e[1]||(e[1]=t=>ee("area")),maxlength:"2"},null,544),[[D,V.value]]),f(s("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>A.value=t),type:"tel",pattern:"[0-9]*",placeholder:"1234",class:"w-2/4 rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm text-center transition duration-150",onInput:e[3]||(e[3]=t=>ee("number")),maxlength:"4"},null,544),[[D,A.value]]),f(s("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>U.value=t),type:"text",placeholder:"ABC",class:"w-1/4 rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm text-center transition duration-150",onInput:e[5]||(e[5]=t=>ee("suffix")),maxlength:"3"},null,544),[[D,U.value]])]),N.value?(l(),r("div",rt,d(N.value),1)):m("",!0),z.value?(l(),r("div",nt,d(z.value),1)):m("",!0),Le.value?m("",!0):(l(),r("div",it," âš  Kolom kode wilayah dan nomor plat harus diisi "))]),s("div",ut,[e[39]||(e[39]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Pilih Mobil ",-1)),s("div",dt,[e[22]||(e[22]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Brand",-1)),f(s("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>E.value=t),onChange:Ie,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",disabled:c.value.brand},[e[21]||(e[21]=s("option",{value:""},"Pilih Brand",-1)),(l(!0),r(_,null,w(ae.value,t=>(l(),r("option",{key:t.id,value:t.id},d(t.name),9,vt))),128))],40,ct),[[M,E.value]])]),s("div",pt,[e[24]||(e[24]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Model",-1)),f(s("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>P.value=t),onChange:Te,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",disabled:!E.value||c.value.model},[e[23]||(e[23]=s("option",{value:""},"Pilih Model",-1)),(l(!0),r(_,null,w(J.value,t=>(l(),r("option",{key:t.id,value:t.id},d(t.name),9,gt))),128))],40,mt),[[M,P.value]])]),s("div",ft,[e[26]||(e[26]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Type/Varian",-1)),f(s("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>g.value=t),onChange:Ve,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",disabled:!P.value||c.value.type},[e[25]||(e[25]=s("option",{value:""},"Pilih Type",-1)),(l(!0),r(_,null,w(O.value,t=>(l(),r("option",{key:t.id,value:t.id},d(t.name),9,yt))),128))],40,bt),[[M,g.value]])]),s("div",xt,[s("div",null,[e[28]||(e[28]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Kapasitas Mesin",-1)),f(s("select",{"onUpdate:modelValue":e[9]||(e[9]=t=>y.value=t),onChange:Ae,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",disabled:!g.value||c.value.capacity},[e[27]||(e[27]=s("option",{value:""},"Pilih Kapasitas",-1)),(l(!0),r(_,null,w(Y.value,t=>(l(),r("option",{key:t.cc,value:t.cc},d(t.display),9,kt))),128))],40,ht),[[M,y.value]])]),s("div",null,[e[30]||(e[30]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tahun",-1)),f(s("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>k.value=t),onChange:Be,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",disabled:!y.value||c.value.year},[e[29]||(e[29]=s("option",{value:""},"Pilih Tahun",-1)),(l(!0),r(_,null,w(G.value,t=>(l(),r("option",{key:t.year,value:t.year},d(t.year),9,wt))),128))],40,_t),[[M,k.value]])])]),s("div",Ct,[e[32]||(e[32]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Transmisi",-1)),s("div",$t,[(l(!0),r(_,null,w(R.value,t=>(l(),r("label",{key:t.transmission,class:ve(["relative flex cursor-pointer rounded-lg border-2 border-gray-200 p-3 focus:outline-none transition-all duration-200 hover:border-indigo-300",{"border-indigo-500 bg-indigo-50":h.value===t.transmission,"border-gray-200":h.value!==t.transmission}])},[f(s("input",{type:"radio","onUpdate:modelValue":e[11]||(e[11]=v=>h.value=v),value:t.transmission,onChange:Pe,class:"sr-only",disabled:!k.value||c.value.transmission},null,40,Mt),[[We,h.value]]),s("div",It,[s("div",Tt,[s("div",Vt,[s("div",At,d(X(t.transmission)),1)])]),s("div",Bt,[(l(),r("svg",Pt,[e[31]||(e[31]=s("circle",{cx:"12",cy:"12",r:"12",fill:"#fff",stroke:"currentColor","stroke-width":"2"},null,-1)),h.value===t.transmission?(l(),r("circle",jt)):m("",!0)]))])])],2))),128))])]),s("div",Ut,[e[34]||(e[34]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Bahan Bakar",-1)),f(s("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>T.value=t),onChange:je,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",disabled:!h.value||c.value.fuel},[e[33]||(e[33]=s("option",{value:""},"Pilih Bahan Bakar",-1)),(l(!0),r(_,null,w(W.value,t=>(l(),r("option",{key:t.fuel_type,value:t.fuel_type},d(t.fuel_type),9,Lt))),128))],40,Et),[[M,T.value]])]),s("div",St,[e[36]||(e[36]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Periode Produksi",-1)),f(s("select",{"onUpdate:modelValue":e[13]||(e[13]=t=>L.value=t),onChange:Ue,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",disabled:!T.value||c.value.period},[e[35]||(e[35]=s("option",{value:""},"Pilih Periode Produksi",-1)),(l(!0),r(_,null,w(Z.value,t=>(l(),r("option",{key:t.production_period,value:t.production_period},d(t.production_period),9,Nt))),128))],40,Dt),[[M,L.value]])]),i.value?(l(),r("div",zt,[e[37]||(e[37]=s("h4",{class:"font-medium text-green-800 mb-2"},"Mobil Terpilih:",-1)),s("p",Ft,d(i.value.brand.name)+" "+d(i.value.model.name)+" "+d(i.value.type.name)+" "+d(le(i.value.cc))+" "+d(X(i.value.transmission))+" "+d(i.value.fuel_type)+" "+d(i.value.year)+" ("+d(i.value.production_period)+")",1)])):m("",!0),me.value?(l(),r("div",Kt,e[38]||(e[38]=[s("svg",{class:"animate-spin h-4 w-4 mr-2 text-indigo-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),Ze(" Memuat data... ")]))):m("",!0)]),s("div",qt,[e[41]||(e[41]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2",for:"category"}," Kategori Inspeksi ",-1)),f(s("select",{id:"category","onUpdate:modelValue":e[14]||(e[14]=t=>p(a).category_id=t),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",required:""},[e[40]||(e[40]=s("option",{value:"",disabled:""},"Pilih Kategori",-1)),(l(!0),r(_,null,w(oe.Category,t=>(l(),r("option",{key:t.id,value:t.id},d(t.name),9,Ht))),128))],512),[[M,p(a).category_id]])]),s("div",Jt,[e[43]||(e[43]=s("label",{for:"schedule-toggle",class:"text-sm font-medium text-gray-700"},"Jadwalkan Inspeksi?",-1)),s("label",Ot,[f(s("input",{type:"checkbox","onUpdate:modelValue":e[15]||(e[15]=t=>p(a).is_scheduled=t),id:"schedule-toggle",class:"sr-only peer",disabled:re.value},null,8,Yt),[[Qe,p(a).is_scheduled]]),e[42]||(e[42]=s("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-700"},null,-1))])]),p(a).is_scheduled?(l(),r("div",Gt,[s("div",null,[e[44]||(e[44]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2",for:"schedule-date"}," Tanggal ",-1)),f(s("input",{type:"date",id:"schedule-date","onUpdate:modelValue":e[16]||(e[16]=t=>p(a).scheduled_at_date=t),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",required:""},null,512),[[D,p(a).scheduled_at_date]])]),s("div",null,[e[45]||(e[45]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2",for:"schedule-time"}," Waktu ",-1)),f(s("input",{type:"time",id:"schedule-time","onUpdate:modelValue":e[17]||(e[17]=t=>p(a).scheduled_at_time=t),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",required:""},null,512),[[D,p(a).scheduled_at_time]])]),p(I).includes("Admin")||p(I).includes("coordinator")?(l(),r("div",Rt,[e[47]||(e[47]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2",for:"inspector"}," Pilih Inspektor ",-1)),f(s("select",{id:"inspector","onUpdate:modelValue":e[18]||(e[18]=t=>p(a).inspector_id=t),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",required:""},[e[46]||(e[46]=s("option",{value:"",disabled:""},"Pilih Inspektor",-1)),(l(!0),r(_,null,w(be.value,t=>(l(),r("option",{key:t.id,value:t.user.id},d(t.user.name),9,Wt))),128))],512),[[M,p(a).inspector_id]])])):m("",!0)])):m("",!0),s("div",Zt,[s("button",{onClick:Ne,disabled:!ge.value||p(a).processing||Q.value,class:ve({"px-6 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed":!0,"bg-gradient-to-r from-indigo-700 to-sky-600  border border-transparent text-white hover:bg-blue-700":!p(a).is_scheduled,"bg-gradient-to-r from-green-700 to-indigo-600  border-transparent text-white hover:bg-green-700":p(a).is_scheduled})},d(fe.value),11,Qt)]),p(a).car_id&&i.value?(l(),r("div",Xt,[i.value.description?(l(),r("div",es,[e[48]||(e[48]=s("h3",{class:"text-sm font-medium text-gray-700 mb-2"},"Deskripsi:",-1)),s("div",{class:"prose prose-sm max-w-none text-gray-600",innerHTML:i.value.description},null,8,ts)])):m("",!0),b.value.length>0?(l(),r("div",ss,[e[49]||(e[49]=s("h3",{class:"text-sm font-medium text-gray-700 mb-3"},"Gambar Mobil:",-1)),s("div",os,[(l(!0),r(_,null,w(b.value,(t,v)=>(l(),r("div",{key:t.id||v,class:"relative group cursor-pointer",onClick:x=>De(v)},[s("img",{src:ne(t),alt:t.name||"Car Image",class:"w-full h-24 object-cover rounded-lg border border-gray-200 transition-transform duration-200 group-hover:scale-105"},null,8,as),t.note?(l(),r("div",rs,[s("p",ns,d(t.note),1)])):m("",!0)],8,ls))),128))])])):(l(),r("div",is," Tidak ada gambar tersedia untuk mobil ini "))])):m("",!0),F.value?(l(),r("div",{key:3,class:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",onClick:te},[s("div",us,[s("button",{onClick:te,class:"absolute top-4 right-4 z-10 text-white bg-black bg-opacity-50 rounded-full p-2 hover:bg-opacity-70 transition-colors"},e[50]||(e[50]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),b.value.length>1?(l(),r("button",{key:0,onClick:se(ue,["stop"]),class:"absolute left-4 z-10 text-white bg-black bg-opacity-50 rounded-full p-3 hover:bg-opacity-70 transition-colors"},e[51]||(e[51]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)]))):m("",!0),b.value.length>1?(l(),r("button",{key:1,onClick:se(ie,["stop"]),class:"absolute right-4 z-10 text-white bg-black bg-opacity-50 rounded-full p-3 hover:bg-opacity-70 transition-colors"},e[52]||(e[52]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))):m("",!0),s("img",{src:ne(b.value[C.value]),alt:"Car Image "+(C.value+1),class:"max-w-full max-h-full object-contain",onClick:e[19]||(e[19]=se(()=>{},["stop"]))},null,8,ds),b.value.length>1?(l(),r("div",cs,d(C.value+1)+" / "+d(b.value.length),1)):m("",!0),(n=b.value[C.value])!=null&&n.note?(l(),r("div",vs,d(b.value[C.value].note),1)):m("",!0)])])):m("",!0)])])]}),_:1}))}},bs=et(ps,[["__scopeId","data-v-413d7866"]]);export{bs as default};
