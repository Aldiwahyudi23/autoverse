import{r as v,x as z,q as k,E as Ie,j as N,o as n,w as L,k as c,d as e,b as d,c as a,u as l,v as Ce,f as g,t as o,z as B,A as U,F as ie,m as le,n as S,y as de,S as O,G as $e,W as D}from"./vendor-BJzInWMf.js";import{A as je}from"./AppLayout-D6WJ3I1x.js";import{_ as Me}from"./app-B96EozQs.js";import{r as K,a as Ae}from"./XMarkIcon-DqY9eY8n.js";import{r as ue,a as Te,b as Re}from"./PlusIcon-BqA43NsI.js";import{r as Le}from"./UserIcon-vx4KdVK0.js";import{r as Be,C as P}from"./car-Dii5PdOG.js";const Se={class:"w-full px-4 sm:px-6 lg:px-6 py-6"},De={class:"flex flex-col sm:flex-row sm:items-center justify-between mb-6 gap-4"},Pe={class:"text-xl md:text-3xl font-bold text-gray-900 text-center sm:text-left"},Fe={key:0,class:"text-lg text-gray-600 block sm:inline sm:ml-2"},Ve={key:1,class:"text-lg text-gray-600 block sm:inline sm:ml-2"},We={key:2,class:"text-lg text-gray-600 block sm:inline sm:ml-2"},He={key:0,class:"flex items-center gap-2"},qe={key:0,class:"relative flex-1"},ze={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},Ne={class:"px-4 py-2 border-b flex justify-between items-center"},Ue=["onClick"],Oe={key:0,class:"px-4 py-3 bg-gray-50 border-b"},Ke={class:"flex items-center justify-between"},Ee={class:"flex items-center"},Ge={class:"text-sm text-gray-600"},Je=["href"],Qe={class:"p-4 flex justify-between items-start"},Xe={class:"flex items-center mb-1"},Ye={class:"text-sm font-semibold text-blue-700 ml-7 -mt-1"},Ze={class:"px-4 py-3 bg-gray-50 border-t border-gray-100"},et={class:"flex items-center"},tt={class:"text-sm font-medium text-gray-800"},st={key:0},rt={class:"text-gray-600"},nt={key:1},at={class:"flex items-center mt -2"},ot={class:"text-sm font-bold text-gray-900"},it={class:"py-3 bg-white border-t border-gray-100"},lt={key:0,class:"mb-3 p-2 rounded bg-green-50 border border-green-200"},dt={class:"flex items-center justify-between"},ut={class:"text-sm font-semibold text-gray-800"},ct={class:"text-xs text-gray-600"},mt=["href"],pt={key:1,class:"mb-3 p-2 bg-yellow-50 border border-yellow-200 rounded"},gt={class:"grid grid-cols-2 gap-1 text-sm"},vt={key:3,class:"p-2 bg-yellow-50 border border-yellow-200 rounded"},ft={key:1,class:"px-4 py-2 bg-white border-t border-gray-100"},xt={class:"text-sm text-gray-800"},yt={class:"p-4 flex space-x-2"},bt=["onClick"],_t=["onClick","disabled"],ht={key:1,class:"text-center py-8"},wt={class:"text-gray-500"},kt={class:"text-center mt-6"},It={key:1,class:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50"},Ct={class:"bg-white rounded-lg shadow-xl max-w-md w-full"},$t={class:"p-6"},jt={class:"flex items-start mb-4"},Mt={key:0},At={class:"font-medium text-gray-800"},Tt={class:"text-sm text-gray-600"},Rt={class:"text-gray-500"},Lt={key:1,class:"text-sm font-medium text-gray-800"},Bt={class:"flex items-center mt-2"},St={class:"text-base font-bold text-gray-900"},Dt={class:"text-gray-600 mb-6"},Pt={key:0,class:"font-semibold text-gray-800"},Ft={class:"flex justify-end space-x-3"},Vt=["disabled"],Wt={key:0},Ht={key:1},qt={key:2,class:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50"},zt={class:"bg-white rounded-lg shadow-xl max-w-md w-full"},Nt={class:"p-6"},Ut={class:"flex items-center justify-between mb-4"},Ot={class:"mb-6 p-4 bg-gray-50 rounded-lg"},Kt={class:"flex items-start"},Et={class:"font-medium text-gray-800"},Gt={class:"text-sm text-gray-600"},Jt={class:"text-sm text-gray-500 mt-1"},Qt={class:"font-medium"},Xt={class:"space-y-4"},Yt=["value"],Zt={key:0,class:"text-red-500 text-sm mt-1"},es={class:"flex justify-end space-x-3 mt-6"},ts=["disabled"],ss={key:0},rs={key:1},ns={key:3,class:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50"},as={class:"bg-white rounded-lg shadow-xl max-w-md w-full"},os={class:"p-6"},is={class:"flex items-center justify-between mb-4"},ls={class:"flex items-start mb-4"},ds={key:0},us={class:"font-medium text-gray-800"},cs={class:"text-sm text-gray-600"},ms={class:"text-gray-500"},ps={key:1,class:"text-sm font-medium text-gray-800"},gs={class:"flex items-center mt-2"},vs={class:"text-base font-bold text-gray-900"},fs={class:"mb-6"},xs={key:0,class:"text-red-500 text-sm mt-1"},ys={class:"flex justify-end space-x-3"},bs=["disabled"],_s={key:0},hs={key:1},ws={__name:"Indexcopy",props:{tasks:Array,encryptedIds:Object,userRole:String,userId:Number,inspectors:Array,filters:Object},setup(I){const m=I,M=v(!1),F=v(!1),V=v(!1),A=v(!1),i=v(null),b=v(""),_=v(""),h=v(""),C=v(m.filters.search),W=z({}),w=z({reason:""}),y=z({new_inspector_id:"",transfer_reason:""});let E=null;const ce=()=>{clearTimeout(E),E=setTimeout(()=>{D.get(route("job.index"),{search:C.value},{preserveState:!0,replace:!0})},300)},G=()=>{A.value&&(C.value="",D.get(route("job.index"),{search:""},{preserveState:!0,replace:!0})),A.value=!A.value},me=r=>{if(i.value=r,u.value){D.get(route("inspections.review",{id:m.encryptedIds[r.id]}));return}if(p.value){if(r.status==="pending_review"){D.get(route("inspections.review",{id:m.encryptedIds[r.id]}));return}M.value=!0;return}M.value=!0},pe=r=>{i.value=r,F.value=!0},ge=r=>{i.value=r,V.value=!0},f=()=>{M.value=!1,F.value=!1,V.value=!1,b.value="",_.value="",h.value=""},ve=()=>{i.value&&(w.reason=b.value,w.post(route("inspections.cancel",{inspection:m.encryptedIds[i.value.id]}),{onSuccess:()=>{f(),b.value=""}}))},fe=()=>{i.value&&W.get(route("inspections.start",{inspection:m.encryptedIds[i.value.id]}),{onFinish:()=>{f()}})},xe=()=>{i.value&&(y.new_inspector_id=h.value,y.transfer_reason=_.value,y.post(route("inspections.transfer",{inspection:m.encryptedIds[i.value.id]}),{onSuccess:()=>{f(),_.value="",h.value=""}}))},u=k(()=>m.userRole==="admin_plann"),T=k(()=>m.userRole==="inspector"),p=k(()=>m.userRole==="quality_control"),$=k(()=>m.userRole==="inspector_coordinator"),j=k(()=>m.userRole==="admin"),H=r=>j.value||u.value||p.value||$.value?!1:T.value?m.tasks.some(x=>(x.status==="in_progress"||x.status==="revision")&&x.id!==r.id)&&!(r.status==="in_progress"||r.status==="revision"):!1,q=r=>u.value?"Lihat Detail":(p.value||j.value||$.value,r.status==="draft"?"Mulai Inspeksi":r.status==="in_progress"?"Lanjutkan Inspeksi":r.status==="pending_review"?"Periksa Laporan":r.status==="revision"?"Lanjutkan Revisi":r.status==="pending"?"Lanjutkan Inspeksi":"Detail"),ye=r=>u.value||p.value?"Memuat...":r.status==="draft"?"Memuat Halaman Inspeksi...":r.status==="in_progress"?"Membuka Halaman Inspeksi...":r.status==="pending_review"?"Memuat Halaman Review...":r.status==="revision"?"Memuat Halaman Revisi...":r.status==="pending"?"Memuat Halaman Inspeksi...":"Memuat...",be=r=>{if(!r)return"";const x=new Date(r.inspection_date).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),R=r.car?`${r.car.brand.name} ${r.car.model.name} ${r.car.type.name} ${(r.car.cc/1e3).toFixed(1)}L ${r.car.transmission} ${r.car.year}`:r.car_name;return`Halo, ada jadwal inspeksi baru:

ðŸ“… *${x}*
ðŸš— *${R}*
ðŸ“ *${r.plate_number}*

Tolong di bantu untuk melakukan inspeksi sesuai jadwal. Terima kasih!`},_e=r=>{if(!r)return"";let t=r.replace(/\D/g,"");return t.startsWith("0")&&(t="62"+t.substring(1)),t.startsWith("62")||(t="62"+t),t},he=r=>u.value&&r.status==="draft",we=r=>["inspector","inspector_coordinator","admin","admin_plann","quality_control"].includes(m.userRole)&&["draft","in_progress","pending","revision"].includes(r.status),ke=r=>{switch(r){case"draft":return"bg-gray-100 text-gray-800";case"in_progress":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"pending_review":return"bg-purple-100 text-purple-800";case"revision":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}};return k(()=>!u.value),Ie(C,()=>{ce()}),(r,t)=>(n(),N(je,null,{default:L(()=>{var x,R,J,Q,X,Y,Z,ee,te,se,re;return[c(l(Ce),{title:"Tugas"}),e("div",Se,[e("div",De,[e("h3",Pe,[g(o(u.value?"Monitoring Tugas Inspeksi":p.value?"Review & Revisi Inspeksi":"Tugas Inspeksi")+" ",1),T.value?(n(),a("span",Fe,"- Saya")):d("",!0),$.value?(n(),a("span",Ve,"- Coordinator")):d("",!0),j.value?(n(),a("span",We,"- Admin")):d("",!0)]),u.value||p.value?(n(),a("div",He,[A.value?(n(),a("div",qe,[B(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>C.value=s),type:"text",placeholder:"Cari plat/nama mobil/inspector...",class:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",autofocus:""},null,512),[[U,C.value]]),e("button",{onClick:G,class:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600"},[c(l(K),{class:"h-5 w-5"})])])):d("",!0),e("button",{onClick:G,class:"p-2 text-gray-400 hover:text-gray-600 transition-colors"},[c(l(Ae),{class:"h-5 w-5"})])])):d("",!0)]),I.tasks.length>0?(n(),a("div",ze,[(n(!0),a(ie,null,le(I.tasks,s=>{var ne,ae;return n(),a("div",{key:s.id,class:"bg-white rounded-xl shadow-md overflow-hidden border border-gray-200 hover:shadow-lg transition"},[e("div",Ne,[e("span",{class:S(["px-2 py-1 text-xs font-medium rounded-full",ke(s.status)])},o(s.status.replace("_"," ").toUpperCase()),3),he(s)?(n(),a("button",{key:0,onClick:de(oe=>ge(s),["stop"]),class:"text-xs text-blue-600 hover:text-blue-800 font-medium",title:"Alihkan ke inspector lain"},[c(l(ue),{class:"h-4 w-4 inline"}),t[4]||(t[4]=g(" Alihkan "))],8,Ue)):d("",!0)]),(u.value||p.value)&&s.user?(n(),a("div",Oe,[e("div",Ke,[e("div",Ee,[c(l(Le),{class:"h-4 w-4 text-gray-500 mr-2"}),e("div",null,[t[5]||(t[5]=e("p",{class:"text-sm font-medium text-gray-700"},"Inspector",-1)),e("p",Ge,o(s.user.name),1)])]),u.value&&s.user.numberPhone?(n(),a("a",{key:0,href:`https://wa.me/${_e(s.user.numberPhone)}?text=${encodeURIComponent(be(s))}`,target:"_blank",class:"text-green-600 hover:text-green-800 transition",title:"Kirim pesan WhatsApp ke inspector"},t[6]||(t[6]=[e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.465 3.488"})],-1)]),8,Je)):d("",!0)])])):d("",!0),e("div",Qe,[e("div",null,[e("div",Xe,[c(l(Be),{class:"h-5 w-5 text-blue-500 mr-2"}),t[7]||(t[7]=e("span",{class:"text-sm font-medium text-gray-600"},"Jadwal",-1))]),e("p",Ye,o(new Date(s.inspection_date).toLocaleDateString("id-ID",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})),1)]),c(l(O),{href:r.route("inspection.log",{inspection:I.encryptedIds[s.id]}),class:"text-xs font-semibold text-indigo-600 hover:underline"},{default:L(()=>t[8]||(t[8]=[g(" Lihat Log ")])),_:2,__:[8]},1032,["href"])]),e("div",Ze,[e("div",et,[c(l(P),{class:"h-5 w-5 text-gray-500 mr-2"}),e("div",tt,[s.car?(n(),a("div",st,[g(o(`${s.car.brand.name} ${s.car.model.name} ${s.car.type.name} ${(s.car.cc/1e3).toFixed(1)} ${s.car.transmission} ${s.car.year}`)+" ",1),e("span",rt,"("+o(s.car.fuel_type)+")",1)])):(n(),a("div",nt,o(s.car_name),1))])]),e("div",at,[t[9]||(t[9]=e("span",{class:"text-xs font-semibold uppercase tracking-wide text-gray-500 mr-2"},"NO POLISI:",-1)),e("span",ot,o(s.plate_number),1)]),e("div",it,[s.customer?(n(),a("div",lt,[t[11]||(t[11]=e("p",{class:"text-xs font-medium text-gray-500"},"Customer",-1)),e("div",dt,[e("div",null,[e("p",ut,o(s.customer.name),1),e("p",ct,o(s.customer.phone),1)]),s.customer.phone?(n(),a("a",{key:0,href:`https://wa.me/62${s.customer.phone.replace(/^0/,"")}`,target:"_blank",class:"text-green-600 hover:text-green-800 ml-2",title:"Hubungi via WhatsApp"},t[10]||(t[10]=[e("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.864 3.488"})],-1)]),8,mt)):d("",!0)])])):(n(),a("div",pt,t[12]||(t[12]=[e("p",{class:"text-xs text-yellow-700"},"Data customer belum tersedia",-1)]))),s.transaction?(n(),a("div",{key:2,class:S(["p-2 rounded",{"bg-green-50 border border-green-200":(s==null?void 0:s.transaction.status)==="paid","bg-yellow-50 border border-yellow-200":((ne=s==null?void 0:s.transaction)==null?void 0:ne.status)==="pending"}])},[t[14]||(t[14]=e("p",{class:"text-xs font-medium text-gray-500"},"Pembayaran",-1)),e("div",gt,[t[13]||(t[13]=e("span",null,"Status:",-1)),e("span",{class:S({"text-green-600 font-semibold":(s==null?void 0:s.transaction.status)==="paid","text-yellow-600 font-semibold":((ae=s==null?void 0:s.transaction)==null?void 0:ae.status)==="pending"})},o((s==null?void 0:s.transaction.status)==="paid"?"Lunas":"Menunggu"),3)])],2)):(n(),a("div",vt,t[15]||(t[15]=[e("p",{class:"text-xs text-yellow-700"},"Data transaksi belum tersedia",-1)])))])]),s.category?(n(),a("div",ft,[t[16]||(t[16]=e("p",{class:"text-xs font-medium text-gray-500 tracking-wide"},"Kategori Inspek",-1)),e("p",xt,o(s.category.name),1)])):d("",!0),e("div",yt,[we(s)?(n(),a("button",{key:0,onClick:de(oe=>pe(s),["stop"]),type:"button",class:"flex-1 px-3 py-2 bg-gray-200 text-gray-700 font-medium rounded-md text-sm hover:bg-gray-300 transition-colors"}," Batal ",8,bt)):d("",!0),e("button",{onClick:oe=>me(s),disabled:H(s),class:S(["flex-1 inline-flex items-center justify-center px-3 py-2 font-medium rounded-md text-sm transition-colors",u.value?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:from-blue-700 hover:to-indigo-700":p.value?"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:from-purple-700 hover:to-pink-700":H(s)?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-gradient-to-r from-indigo-700 to-sky-600 text-white hover:from-indigo-800 hover:to-sky-700"])},[g(o(q(s))+" ",1),!u.value&&!p.value&&!H(s)?(n(),N(l(Te),{key:0,class:"ml-2 h-4 w-4"})):d("",!0)],10,_t)])])}),128))])):(n(),a("div",ht,[e("p",wt,o(u.value?"Tidak ada tugas inspeksi yang perlu dimonitor.":p.value?"Tidak ada laporan yang perlu direview.":"Tidak ada tugas inspeksi yang tersedia."),1)])),e("div",kt,[c(l(O),{href:r.route("inspections.history"),class:"inline-block px-4 py-2 text-sm font-medium text-indigo-600 border border-indigo-600 rounded-md hover:bg-blue-50"},{default:L(()=>t[17]||(t[17]=[g(" Lihat Riwayat Inspeksi ")])),_:1,__:[17]},8,["href"])])]),u.value?(n(),N(l(O),{key:0,href:r.route("inspections.create.new"),class:"fixed bottom-24 right-6 z-40 p-4 bg-gradient-to-r from-indigo-700 to-sky-600 shadow-lg text-white rounded-full transition-colors duration-200 animate-bounce",title:"Buat Inspeksi Baru"},{default:L(()=>[c(l(Re),{class:"h-6 w-6"})]),_:1},8,["href"])):d("",!0),M.value&&(T.value||$.value||j.value||p.value)?(n(),a("div",It,[e("div",Ct,[e("div",$t,[t[20]||(t[20]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Konfirmasi",-1)),e("div",jt,[c(l(P),{class:"h-8 w-8 text-blue-500 mr-3 mt-1"}),e("div",null,[(x=i.value)!=null&&x.car?(n(),a("div",Mt,[e("p",At,o(`${i.value.car.brand.name} ${i.value.car.model.name} ${i.value.car.type.name}`),1),e("p",Tt,[g(o(i.value.car.cc)+" â€¢ "+o(i.value.car.transmission)+" â€¢ "+o(i.value.car.year)+" ",1),e("span",Rt,"("+o(i.value.car.fuel_type)+")",1)])])):(n(),a("div",Lt,o((R=i.value)==null?void 0:R.car_name),1)),e("div",Bt,[t[18]||(t[18]=e("span",{class:"text-sm font-semibold uppercase tracking-wide text-gray-500 mr-2"},"no polisi:",-1)),e("span",St,o((J=i.value)==null?void 0:J.plate_number),1)])])]),e("p",Dt,[g(" Anda yakin ingin "+o(q(i.value).toLowerCase())+" inspeksi ini ",1),(Q=i.value)!=null&&Q.category?(n(),a("span",Pt," berdasarkan Type Inspek: "+o(i.value.category.name),1)):d("",!0),t[19]||(t[19]=g("? "))]),e("div",Ft,[e("button",{onClick:f,type:"button",class:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50"}," Batal "),e("button",{onClick:fe,type:"button",disabled:l(W).processing,class:"flex-1 inline-flex items-center justify-center px-4 py-2 bg-gradient-to-r from-indigo-700 to-sky-600 shadow-lg text-white border border-transparent rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"},[l(W).processing?(n(),a("span",Wt,o(ye(i.value)),1)):(n(),a("span",Ht,o(q(i.value)),1))],8,Vt)])])])])):d("",!0),V.value&&u.value?(n(),a("div",qt,[e("div",zt,[e("div",Nt,[e("div",Ut,[t[21]||(t[21]=e("h3",{class:"text-lg font-medium text-gray-900"},"Alihkan Tugas Inspeksi",-1)),e("button",{onClick:f,class:"text-gray-400 hover:text-gray-600"},[c(l(K),{class:"h-6 w-6"})])]),e("div",Ot,[e("div",Kt,[c(l(P),{class:"h-6 w-6 text-gray-500 mr-3 mt-0.5"}),e("div",null,[e("p",Et,o((X=i.value)==null?void 0:X.plate_number),1),e("p",Gt,o((Y=i.value)==null?void 0:Y.car_name),1),e("p",Jt,[t[22]||(t[22]=g(" Inspector saat ini: ")),e("span",Qt,o(((ee=(Z=i.value)==null?void 0:Z.user)==null?void 0:ee.name)||"Belum ditugaskan"),1)])])])]),e("div",Xt,[e("div",null,[t[24]||(t[24]=e("label",{for:"inspector",class:"block text-sm font-medium text-gray-700 mb-1"}," Pilih Inspector Baru * ",-1)),B(e("select",{id:"inspector","onUpdate:modelValue":t[1]||(t[1]=s=>h.value=s),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm"},[t[23]||(t[23]=e("option",{value:""},"-- Pilih Inspector --",-1)),(n(!0),a(ie,null,le(I.inspectors,s=>(n(),a("option",{key:s.id,value:s.id},o(s.name)+" ("+o(s.email)+") ",9,Yt))),128))],512),[[$e,h.value]])]),e("div",null,[t[25]||(t[25]=e("label",{for:"transferReason",class:"block text-sm font-medium text-gray-700 mb-1"}," Alasan Pengalihan * ",-1)),B(e("textarea",{id:"transferReason","onUpdate:modelValue":t[2]||(t[2]=s=>_.value=s),rows:"3",required:"",placeholder:"Masukkan alasan mengapa tugas ini dialihkan...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm"},null,512),[[U,_.value]]),l(y).errors.transfer_reason?(n(),a("p",Zt,o(l(y).errors.transfer_reason),1)):d("",!0)])]),e("div",es,[e("button",{onClick:f,type:"button",class:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50"}," Batal "),e("button",{onClick:xe,disabled:!h.value||!_.value.trim()||l(y).processing,class:"px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white border border-transparent rounded-md text-sm font-medium hover:from-green-700 hover:to-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed"},[l(y).processing?(n(),a("span",ss,[c(l(ue),{class:"h-4 w-4 animate-spin inline mr-2"}),t[26]||(t[26]=g(" Mengalihkan... "))])):(n(),a("span",rs,"Alihkan Tugas"))],8,ts)])])])])):d("",!0),F.value&&(T.value||$.value||j.value||u.value||p.value)?(n(),a("div",ns,[e("div",as,[e("div",os,[e("div",is,[t[27]||(t[27]=e("h3",{class:"text-lg font-medium text-gray-900"},"Batalkan Inspeksi",-1)),e("button",{onClick:f,class:"text-gray-400 hover:text-gray-600"},[c(l(K),{class:"h-6 w-6"})])]),e("div",ls,[c(l(P),{class:"h-8 w-8 text-red-500 mr-3 mt-1"}),e("div",null,[(te=i.value)!=null&&te.car?(n(),a("div",ds,[e("p",us,o(`${i.value.car.brand.name} ${i.value.car.model.name} ${i.value.car.type.name}`),1),e("p",cs,[g(o(i.value.car.cc)+" â€¢ "+o(i.value.car.transmission)+" â€¢ "+o(i.value.car.year)+" ",1),e("span",ms,"("+o(i.value.car.fuel_type)+")",1)])])):(n(),a("div",ps,o((se=i.value)==null?void 0:se.car_name),1)),e("div",gs,[t[28]||(t[28]=e("span",{class:"text-sm font-semibold uppercase tracking-wide text-gray-500 mr-2"},"no polisi:",-1)),e("span",vs,o((re=i.value)==null?void 0:re.plate_number),1)])])]),e("div",fs,[t[29]||(t[29]=e("label",{for:"cancelReason",class:"block text-sm font-medium text-gray-700 mb-2"}," Alasan Pembatalan * ",-1)),B(e("textarea",{id:"cancelReason","onUpdate:modelValue":t[3]||(t[3]=s=>b.value=s),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Masukkan alasan pembatalan inspeksi...",required:""},null,512),[[U,b.value]]),l(w).errors.reason?(n(),a("p",xs,o(l(w).errors.reason),1)):d("",!0)]),e("div",ys,[e("button",{onClick:f,type:"button",class:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50"}," Tutup "),e("button",{onClick:ve,disabled:!b.value.trim()||l(w).processing,class:"px-4 py-2 bg-red-600 text-white border border-transparent rounded-md text-sm font-medium hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed"},[l(w).processing?(n(),a("span",_s,"Memproses...")):(n(),a("span",hs,"Batalkan Inspeksi"))],8,bs)])])])])):d("",!0)]}),_:1}))}},Ts=Me(ws,[["__scopeId","data-v-c43faafd"]]);export{Ts as default};
