import{p as Q,q as r,r as w,j as I,o as i,w as y,k as f,d as t,b as m,c as o,u as p,v as Y,t as v,S as h,f as c,n as b,F as D,z as X,A as Z,W as F}from"./vendor-CUNG9NG6.js";import{A as _}from"./AppLayout-DQ774zwh.js";import{_ as ee}from"./CardCustomer-BhXg_APy.js";import{_ as te,a as se}from"./AllDataModal-Bpy7YhcX.js";import{_ as ne}from"./app-7zCU5TO8.js";import{r as ie,C as oe}from"./car-BY-n8Rlm.js";import{r as ae}from"./ClipboardDocumentListIcon-Im25FWRS.js";import"./debounce-hB1Swk-4.js";const le={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},re={class:"bg-white rounded-xl shadow-md overflow-hidden border border-gray-200"},de={class:"p-4 flex justify-between items-start"},ue={class:"flex items-center mb-1"},ce={class:"text-sm font-semibold text-blue-700 ml-7 -mt-1"},me={class:"px-4 py-3 bg-gray-50 border-t border-gray-100"},pe={class:"flex items-center"},ve={class:"text-sm font-medium text-gray-800"},fe={key:0},xe={class:"text-gray-600"},ye={key:1},ge={class:"flex items-center justify-between mt-2"},he={class:"flex items-center"},we={class:"text-sm font-bold text-gray-900"},be={class:"px-4 py-3 bg-white border-t border-gray-100"},ke={class:"flex justify-between items-center mb-3"},Ce={class:"px-4 py-3 bg-white border-t border-gray-100"},Ie={key:0,class:"p-2 bg-blue-50 border border-blue-200 rounded"},Ae={class:"flex items-center justify-between"},je={class:"text-sm font-semibold text-blue-800"},Me={key:0,class:"text-xs text-blue-700"},De=["href"],$e={key:1,class:"p-2 bg-yellow-50 border border-yellow-200 rounded"},Be={key:0,class:"px-4 py-2 bg-white border-t border-gray-100"},ze={class:"text-sm text-gray-800"},Le={class:"px-4 py-3 bg-gray-50 border-t border-gray-100"},Ve={class:"flex items-center mb-1"},Se={class:"text-sm font-semibold text-gray-800 ml-7 -mt-1"},He={key:0,class:"mt-3 mb-3"},Pe={class:"text-sm font-semibold text-gray-800 ml-7 -mt-1 flex items-center"},Te={class:"bg-blue-100 text-blue-800 px-2 py-1 rounded-md font-mono"},Re={class:"mt-3"},Fe={class:"text-sm text-gray-800"},Ee=["innerHTML"],Oe={class:"p-4 flex gap-2"},Ne={key:0},Ke={key:1},We=["disabled"],qe={key:0},Ge={key:1},Ue=["href","disabled"],Je={key:0},Qe={key:1},Ye={key:1,class:"flex-1 flex items-center justify-center px-3 py-2 bg-gray-200 text-gray-600 font-medium rounded-md text-sm"},Xe=["disabled"],Ze=["href","disabled"],_e={key:0},et={key:1},tt={key:0},st={key:1},nt={key:1,class:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50"},it={class:"bg-white p-6 rounded-lg shadow-xl w-96"},ot={class:"flex justify-end space-x-4"},at=["disabled"],lt={key:0,class:"flex items-center"},rt={key:1},dt={key:2,class:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50"},ut={class:"bg-white p-6 rounded-lg shadow-xl w-96"},ct={class:"flex justify-end space-x-4 mt-6"},mt=["disabled"],pt={__name:"Reviewa",props:{inspection:{type:Object,required:!0},encryptedIds:Object,transaction:Object,coverImage:Object||null},setup(s){var R;const u=s,x=((R=Q().props.global)==null?void 0:R.roles)||[],V=r(()=>x.includes("Admin")||x.includes("coordinator"));r(()=>x.includes("coordinator")),r(()=>x.includes("Admin"));const E=r(()=>x.includes("admin_plann")?"Admin AutoInspeksi":x.includes("coordinator")?"Koordinator AutoInspeksi":x.includes("inspector")?"Inspektor AutoInspeksi":x.includes("quality_control")?"QC AutoInspeksi":"Staff AutoInspeksi"),$=w(!1),A=w(!1),k=w(!1),S=w(""),a=w(!1),d=w(null),j=r(()=>u.inspection.customer_id!==null),C=r(()=>u.transaction!==null),H=r(()=>{var n;return((n=u.transaction)==null?void 0:n.status)==="paid"});r(()=>{var n;return((n=u.transaction)==null?void 0:n.status)==="pending"});const O=r(()=>{var n;return((n=u.inspection)==null?void 0:n.status)==="rejected"});r(()=>{var n;return((n=u.inspection)==null?void 0:n.status)==="completed"});const N=r(()=>{var n;return((n=u.inspection)==null?void 0:n.status)==="cancelled"});r(()=>{var n;return((n=u.inspection)==null?void 0:n.status)==="pending"});const B=r(()=>O.value||N.value),g=r(()=>{var n;return C.value&&H.value&&((n=u.transaction)==null?void 0:n.amount)>0}),z=r(()=>j.value&&C.value&&H.value),K=r(()=>!j.value&&!C.value?"Tambah Data":j.value&&!C.value?"Tambah Pembayaran":!j.value&&C.value?"Tambahkan Data Customer":"Perbaharui Data"),W=n=>{switch(n){case"draft":return"Dibuat";case"in_progress":return"Dalam Proses";case"pending":return"Menunggu";case"pending_review":return"Menunggu Review";case"approved":return"Disetujui";case"rejected":return"Ditolak";case"revision":return"Revisi";case"completed":return"Selesai";case"cancelled":return"Dibatalkan";default:return n}},L=()=>{k.value=!0},M=(n,e)=>{a.value=!0,d.value=e,F.visit(n,{onFinish:()=>{a.value=!1,d.value=null}})},P=n=>{a.value=!0,d.value="download",setTimeout(()=>{a.value=!1,d.value=null},1500)},q=async n=>{try{await navigator.clipboard.writeText(n),alert(`ID Inspeksi "${n}" berhasil disalin!`)}catch(e){console.error("Gagal menyalin teks: ",e),G(n)}},G=n=>{const e=document.createElement("textarea");e.value=n,e.style.position="fixed",e.style.left="-999999px",e.style.top="-999999px",document.body.appendChild(e),e.focus(),e.select();try{const l=document.execCommand("copy");alert(l?`ID Inspeksi "${n}" berhasil disalin!`:"Gagal menyalin ID Inspeksi.")}catch(l){console.error("Fallback pun gagal: ",l),alert("Browser tidak mendukung aksi salin.")}finally{document.body.removeChild(e)}},U=()=>{F.reload()},J=()=>{alert("Fitur pengiriman email masih dalam pengembangan"),A.value=!1},T=r(()=>u.inspection.customer&&u.inspection.customer.sellers&&(u.inspection.customer.sellers.find(n=>n.inspection_id===u.inspection.id)||u.inspection.customer.sellers[0])||null);return(n,e)=>(i(),I(_,null,{default:y(()=>[f(p(Y),{title:"Review Inspeksi"}),t("div",le,[e[38]||(e[38]=t("h3",{class:"text-xl md:text-3xl font-bold text-gray-900 mb-6 text-center"}," Inspeksi yang Harus Diselesaikan ",-1)),t("div",re,[t("div",de,[t("div",null,[t("div",ue,[f(p(ie),{class:"h-5 w-5 text-blue-500 mr-2"}),e[14]||(e[14]=t("span",{class:"text-sm font-medium text-gray-600"},"Jadwal",-1))]),t("p",ce,v(new Date(s.inspection.inspection_date).toLocaleDateString("id-ID",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})),1)]),f(p(h),{href:n.route("inspection.log",s.encryptedIds),class:"text-xs font-semibold text-indigo-600 hover:underline"},{default:y(()=>e[15]||(e[15]=[c(" Lihat Log ")])),_:1,__:[15]},8,["href"])]),t("div",me,[t("div",pe,[f(p(oe),{class:"h-5 w-5 text-gray-500 mr-2"}),t("div",ve,[s.inspection.car?(i(),o("div",fe,[c(v(`${s.inspection.car.brand.name} ${s.inspection.car.model.name} ${s.inspection.car.type.name} ${(s.inspection.car.cc/1e3).toFixed(1)} ${s.inspection.car.transmission} ${s.inspection.car.year}`)+" ",1),t("span",xe,"("+v(s.inspection.car.fuel_type)+")",1)])):(i(),o("div",ye,v(s.inspection.car_name),1))])]),t("div",ge,[t("div",he,[e[16]||(e[16]=t("span",{class:"text-xs font-semibold uppercase tracking-wide text-gray-500 mr-2"},"NO POLISI:",-1)),t("span",we,v(s.inspection.plate_number),1)]),s.inspection.status==="draft"&&V.value?(i(),I(p(h),{key:0,href:n.route("coordinator.inspections.show",s.encryptedIds),class:"text-xs font-semibold text-indigo-600 hover:underline"},{default:y(()=>e[17]||(e[17]=[c(" Alihkan Tugas ")])),_:1,__:[17]},8,["href"])):m("",!0)])]),t("div",be,[t("div",ke,[e[18]||(e[18]=t("h4",{class:"text-sm font-medium text-gray-700"},"Informasi Customer & Pembayaran ",-1)),!z.value&&!B.value?(i(),o("button",{key:0,onClick:L,class:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded hover:bg-blue-200"},v(K.value),1)):m("",!0)]),f(ee,{customer:s.inspection.customer,seller:T.value,"show-edit-button":!B.value&&!z.value,inspection:s.inspection,"user-role":E.value,onEdit:L},null,8,["customer","seller","show-edit-button","inspection","user-role"]),f(te,{transaction:s.transaction,"show-edit-button":!B.value&&!z.value,onEdit:L},null,8,["transaction","show-edit-button"])]),t("div",Ce,[e[21]||(e[21]=t("div",{class:"flex justify-between items-center mb-3"},[t("h4",{class:"text-sm font-medium text-gray-700"},"Informasi Inspektor")],-1)),s.inspection.user?(i(),o("div",Ie,[t("div",Ae,[t("div",null,[t("p",je,v(s.inspection.user.name),1),s.inspection.user.numberPhone?(i(),o("p",Me,v(s.inspection.user.numberPhone),1)):m("",!0)]),s.inspection.user.numberPhone?(i(),o("a",{key:0,href:`https://wa.me/62${s.inspection.user.numberPhone.replace(/^0/,"")}`,target:"_blank",class:"text-blue-600 hover:text-blue-800 ml-2",title:"Hubungi via WhatsApp"},e[19]||(e[19]=[t("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c 0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.864 3.488"})],-1)]),8,De)):m("",!0)])])):(i(),o("div",$e,e[20]||(e[20]=[t("p",{class:"text-xs text-yellow-700"},"Inspektor belum ditugaskan",-1)])))]),s.inspection.category?(i(),o("div",Be,[e[22]||(e[22]=t("p",{class:"text-xs font-medium text-gray-500 tracking-wide"}," Kategori Inspeksi ",-1)),t("p",ze,v(s.inspection.category.name),1)])):m("",!0),t("div",Le,[t("div",Ve,[f(p(ae),{class:"h-5 w-5 text-green-500 mr-2"}),e[23]||(e[23]=t("span",{class:"text-sm font-medium text-gray-600"},"Status",-1))]),t("p",Se,v(W(s.inspection.status)),1),(s.inspection.status==="approved"||s.inspection.status==="completed")&&s.inspection.file&&g.value?(i(),o("div",He,[e[25]||(e[25]=t("div",{class:"flex items-center mb-1"},[t("svg",{class:"h-5 w-5 text-blue-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})]),t("span",{class:"text-sm font-medium text-gray-600"},"ID Inspeksi (Untuk Buka File)")],-1)),t("p",Pe,[t("span",Te,v(s.inspection.code),1),t("button",{onClick:e[0]||(e[0]=l=>q(s.inspection.code)),class:"ml-2 text-blue-500 hover:text-blue-700",title:"Salin ID"},e[24]||(e[24]=[t("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})],-1)]))])])):m("",!0),t("div",Re,[e[26]||(e[26]=t("p",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide"}," Catatan ",-1)),t("p",Fe,[t("div",{innerHTML:s.inspection.notes||"-"},null,8,Ee)])])]),t("div",Oe,[s.inspection.status==="in_progress"?(i(),I(p(h),{key:0,href:n.route("inspections.review.pdf",s.encryptedIds),disabled:a.value,onClick:e[1]||(e[1]=l=>M(n.route("inspections.review.pdf",s.encryptedIds),"lihat_laporan")),class:b(["flex-1 inline-flex items-center justify-center px-3 py-2 bg-gradient-to-r from-indigo-700 to-sky-600 shadow-lg text-white font-medium rounded-md text-sm transition-colors hover:from-indigo-800 hover:to-sky-700",{"opacity-50 cursor-not-allowed":a.value&&d.value==="lihat_laporan"}])},{default:y(()=>[a.value&&d.value==="lihat_laporan"?(i(),o("span",Ne,e[27]||(e[27]=[t("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),c(" Memuat Halaman... ")]))):(i(),o("span",Ke,"Lihat Proses Inspeksi"))]),_:1},8,["href","disabled","class"])):m("",!0),s.inspection.status==="pending_review"?(i(),o(D,{key:1},[t("button",{onClick:e[2]||(e[2]=l=>$.value=!0),class:"flex-2 px-3 py-2 bg-yellow-500 text-white font-medium rounded-md text-sm transition-colors hover:bg-yellow-600",disabled:a.value}," Revisi ",8,We),f(p(h),{href:n.route("inspections.review.pdf",s.encryptedIds),disabled:a.value,onClick:e[3]||(e[3]=l=>M(n.route("inspections.review.pdf",s.encryptedIds),"lihat_laporan")),class:b(["flex-1 inline-flex items-center justify-center px-3 py-2 bg-gradient-to-r from-indigo-700 to-sky-600 shadow-lg text-white font-medium rounded-md text-sm transition-colors hover:from-indigo-800 hover:to-sky-700",{"opacity-50 cursor-not-allowed":a.value&&d.value==="lihat_laporan"}])},{default:y(()=>[a.value&&d.value==="lihat_laporan"?(i(),o("span",qe,e[28]||(e[28]=[t("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),c(" Memuat Laporan... ")]))):(i(),o("span",Ge,"Lihat Laporan PDF"))]),_:1},8,["href","disabled","class"])],64)):s.inspection.status==="approved"&&s.inspection.file?(i(),o(D,{key:2},[g.value?(i(),o("a",{key:0,href:n.route("inspections.download.approved.pdf",s.encryptedIds),onClick:e[4]||(e[4]=l=>P(n.route("inspections.download.approved.pdf",s.encryptedIds))),class:b(["flex-1 inline-flex items-center justify-center px-3 py-2 bg-blue-600 text-white font-medium rounded-md text-sm transition-colors hover:bg-blue-700",{"opacity-50 cursor-not-allowed":a.value&&d.value==="download"}]),disabled:a.value,download:""},[a.value&&d.value==="download"?(i(),o("span",Je,e[29]||(e[29]=[t("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),c(" Sedang di download... ")]))):(i(),o("span",Qe,e[30]||(e[30]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline-block mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),c(" PDF ")])))],10,Ue)):(i(),o("div",Ye,e[31]||(e[31]=[t("span",{class:"text-xs"},"Transaksi belum selesai",-1)]))),f(p(h),{href:n.route("inspections.whatsapp",s.encryptedIds),class:"flex-1 inline-flex items-center justify-center px-3 py-2 bg-green-600 text-white font-medium rounded-md text-sm transition-colors hover:bg-green-700"},{default:y(()=>e[32]||(e[32]=[t("svg",{class:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.864 3.488"})],-1),c(" WhatsApp ")])),_:1,__:[32]},8,["href"]),t("button",{onClick:e[5]||(e[5]=l=>A.value=!0),class:"flex-1 inline-flex items-center justify-center px-3 py-2 bg-teal-500 text-white font-medium rounded-md text-sm transition-colors hover:bg-teal-600",disabled:a.value},e[33]||(e[33]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 mr-2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25 2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})],-1),c(" Email ")]),8,Xe)],64)):m("",!0),s.inspection.status==="completed"&&s.inspection.file&&V.value?(i(),o("a",{key:3,href:g.value?n.route("inspections.download.approved.pdf",s.encryptedIds):null,onClick:e[6]||(e[6]=l=>g.value&&P(n.route("inspections.download.approved.pdf",s.encryptedIds))),class:b(["flex-1 inline-flex items-center justify-center px-3 py-2 font-medium rounded-md text-sm transition-colors",[g.value?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"]]),disabled:!g.value||a.value&&d.value==="download"},[a.value&&d.value==="download"?(i(),o("span",_e,e[34]||(e[34]=[t("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),c(" Sedang diunduh... ")]))):(i(),o("span",et,[g.value?(i(),o(D,{key:0},[e[35]||(e[35]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline-block mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e[36]||(e[36]=c(" Download PDF "))],64)):(i(),o(D,{key:1},[c(" PDF tersedia â€” selesaikan transaksi untuk mengunduh ")],64))]))],10,Ze)):m("",!0)]),s.inspection.status==="approved"&&s.inspection.file?(i(),I(p(h),{key:1,href:n.route("inspections.review.pdf",s.encryptedIds),disabled:a.value,onClick:e[7]||(e[7]=l=>M(n.route("inspections.review.pdf",s.encryptedIds),"lihat_laporan")),class:b(["inline-flex items-center justify-center w-full px-3 py-2 bg-gradient-to-r from-indigo-700 to-sky-600 shadow-lg text-white font-medium rounded-md text-sm transition-colors hover:from-indigo-800 hover:to-sky-700",{"opacity-50 cursor-not-allowed":a.value&&d.value==="lihat_laporan"}])},{default:y(()=>[a.value&&d.value==="lihat_laporan"?(i(),o("span",tt,e[37]||(e[37]=[t("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),c(" Memuat Laporan... ")]))):(i(),o("span",st,"Lihat Laporan"))]),_:1},8,["href","disabled","class"])):m("",!0)])]),k.value?(i(),I(se,{key:0,show:k.value,"inspection-id":s.encryptedIds,"existing-customer":s.inspection.customer,"existing-seller":T.value,"existing-transaction":s.transaction,onClose:e[8]||(e[8]=l=>k.value=!1),onReopen:e[9]||(e[9]=l=>k.value=!0),onSaved:U},null,8,["show","inspection-id","existing-customer","existing-seller","existing-transaction"])):m("",!0),$.value?(i(),o("div",nt,[t("div",it,[e[40]||(e[40]=t("h3",{class:"text-lg font-bold mb-4"},"Konfirmasi Revisi",-1)),e[41]||(e[41]=t("p",{class:"text-gray-700 mb-2"}," Apakah Anda yakin ingin revisi pada laporan ini? ",-1)),e[42]||(e[42]=t("p",{class:"text-gray-700 mb-4"},"Setelah ini akan masuk ke halaman Inspeksi.",-1)),t("div",ot,[t("button",{onClick:e[10]||(e[10]=l=>$.value=!1),disabled:a.value,class:"bg-gray-300 text-gray-800 px-4 py-2 rounded-md hover:bg-gray-400"}," Batal ",8,at),f(p(h),{href:n.route("inspections.revisi",s.encryptedIds),disabled:a.value,onClick:e[11]||(e[11]=l=>M(n.route("inspections.revisi",s.encryptedIds),"revisi")),class:b(["bg-yellow-500 text-white px-4 py-2 rounded-md hover:bg-yellow-600",{"opacity-50 cursor-not-allowed":a.value&&d.value==="revisi"}])},{default:y(()=>[a.value&&d.value==="revisi"?(i(),o("span",lt,e[39]||(e[39]=[t("svg",{class:"animate-spin h-5 w-5 text-white mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),c(" Memproses... ")]))):(i(),o("span",rt,"Ya, Revisi"))]),_:1},8,["href","disabled","class"])])])])):m("",!0),A.value?(i(),o("div",dt,[t("div",ut,[e[43]||(e[43]=t("h3",{class:"text-lg font-bold mb-4"},"Kirim Laporan Via Email",-1)),e[44]||(e[44]=t("p",{class:"text-gray-700 mb-2"}," Masukkan alamat email tujuan: ",-1)),X(t("input",{type:"email","onUpdate:modelValue":e[12]||(e[12]=l=>S.value=l),class:"w-full px-3 py-2 border rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"contoh@email.com"},null,512),[[Z,S.value]]),t("div",ct,[t("button",{onClick:e[13]||(e[13]=l=>A.value=!1),disabled:a.value,class:"bg-gray-300 text-gray-800 px-4 py-2 rounded-md hover:bg-gray-400"}," Batal ",8,mt),t("button",{onClick:J,disabled:!0,class:"bg-teal-500 text-white px-4 py-2 rounded-md hover:bg-teal-600 opacity-50 cursor-not-allowed"}," Masih dalam pengembangan ")])])])):m("",!0)]),_:1}))}},Ct=ne(pt,[["__scopeId","data-v-b91f7f37"]]);export{Ct as default};
