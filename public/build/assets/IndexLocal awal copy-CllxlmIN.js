import{q as F,r as w,x as Ln,L as $,Q as Tn,R as ot,g as Pn,c as y,o as x,b as I,d as i,u as g,J as Rt,n as j,f as at,F as Re,m as lt,k as Y,j as Vn,w as Ue,t as X,T as Ut,y as Kt,S as En,z as J,A as An,H as rt,e as On,I as Ke,D as Fn,W as He}from"./vendor-D9AtPSqO.js";import{l as jn}from"./lodash-BHkPC8MA.js";import{u as Ht,V as qn,_ as Bn,C as zn,B as Nn,a as Rn}from"./useDraggableButton-Bmfq_RmJ.js";import{_ as Un}from"./app-lVSMz3ZX.js";import"./PrimaryButton-C7m5Czsq.js";import"./ActionMessage-BPss2f-D.js";import"./fuse-Ch1WBRTM.js";import"./InputNumber-Ckafudl2.js";const Kn={class:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100"},Hn={key:0,class:"fixed inset-0 bg-black bg-opacity-40 z-30 pointer-events-none transition-opacity duration-200"},$n={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor","stroke-width":"2"},Jn={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor","stroke-width":"2"},Wn={class:"flex items-center px-4"},Gn={class:"flex"},Qn={key:0,class:"ml-2 inline-flex items-center justify-center w-5 h-5 text-xs rounded-full bg-green-500 text-white"},Yn=["onClick","data-category"],Xn={key:0,class:"ml-2 inline-flex items-center justify-center w-5 h-5 text-xs rounded-full bg-green-500 text-white"},Zn={key:0,class:"ml-2 inline-flex items-center justify-center w-5 h-5 text-xs rounded-full bg-green-500 text-white"},es={key:3,class:"fixed inset-0 z-30"},ts={class:"mt-2 space-y-2"},ns={key:0,class:"ml-2 inline-flex items-center justify-center w-5 h-5 text-xs rounded-full bg-green-500 text-white"},ss=["onClick"],is={key:0,class:"ml-2 inline-flex items-center justify-center w-5 h-5 text-xs rounded-full bg-green-500 text-white"},os={key:0,class:"ml-2 inline-flex items-center justify-center w-5 h-5 text-xs rounded-full bg-green-500 text-white"},as={key:0,class:"fixed top-4 left-1/2 transform -translate-x-1/2 bg-green-400 text-white px-4 py-2 rounded shadow-lg z-50"},ls={class:"relative overflow-hidden"},rs={key:"vehicle"},us={key:"conclusion"},cs={key:1},ds=["disabled"],gs={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},fs={class:"space-y-4"},ms={class:"relative"},ps={class:"max-h-64 overflow-y-auto"},vs={key:0,class:"text-center py-4 text-gray-500"},hs=["onClick"],xs={class:"font-medium text-gray-900"},ys={class:"text-sm text-gray-500"},_s={class:"text-xs text-gray-400 mt-1"},ws={key:0,class:"text-xs text-green-600 mt-1"},bs={key:3,class:"fixed bottom-20 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white px-6 py-3 rounded-lg shadow-lg z-50 text-center"},ks={class:"p-4 space-y-6"},Cs={class:"flex items-center justify-between"},Ss=["aria-checked"],Is={class:"space-y-2"},Ms={class:"space-y-2"},Ds={class:"space-y-2"},Ls={class:"flex space-x-4"},Ts={class:"flex items-center"},Ps={class:"flex items-center"},Vs={key:0,class:"space-y-2"},Es={class:"flex space-x-4"},As={class:"flex items-center"},Os={class:"flex items-center"},Fs={key:1,class:"space-y-2"},js={__name:"IndexLocal awal copy",props:{inspection:Object,inspectionId:Object,category:Object,car:Object,appMenus:Array,damagePoints:Array,existingResults:Object,existingImages:Object,CarDetail:Array,allInspections:Array},setup(E){var Vt,Et,At,Ot,Ft,jt,qt,Bt,zt,Nt;const Ce=t=>{if(!t)return{};if(typeof t=="string")try{return JSON.parse(t)||{}}catch(e){return console.error("Error parsing settings JSON:",e),{}}return typeof t=="object"&&t!==null?t:{}},p=E,$e=F(()=>`inspection_data_${p.inspection.id}`),Je=F(()=>`swipe_toggle_${p.inspection.id}`),We=F(()=>`image_source_${p.inspection.id}`),Ge=F(()=>`active_category_${p.inspection.id}`),ut=()=>{try{const t=localStorage.getItem($e.value);return t?JSON.parse(t):{}}catch(t){return console.error("Error reading local storage:",t),{}}},$t=t=>{try{localStorage.setItem($e.value,JSON.stringify(t))}catch(e){console.error("Error writing to local storage:",e)}},Jt=()=>{try{localStorage.removeItem($e.value),localStorage.removeItem(Je.value),localStorage.removeItem(We.value),localStorage.removeItem(Ge.value)}catch(t){console.error("Error clearing local storage:",t)}},Wt=()=>{try{const t=localStorage.getItem(Je.value);return t?JSON.parse(t):!0}catch(t){return console.error("Error reading swipe toggle state:",t),!0}},Gt=t=>{try{localStorage.setItem(Je.value,JSON.stringify(t))}catch(e){console.error("Error writing swipe toggle state:",e)}},ct=()=>{try{return localStorage.getItem(We.value)||"all"}catch(t){return console.error("Error reading image source setting:",t),"all"}},Qt=t=>{try{localStorage.setItem(We.value,t)}catch(e){console.error("Error writing image source setting:",e)}},dt=F(()=>`camera_quality_${p.inspection.id}`),gt=()=>{try{return localStorage.getItem(dt.value)||"HP_Native"}catch(t){return console.error("Error reading camera quality setting:",t),"HP_Native"}},Yt=t=>{try{localStorage.setItem(dt.value,t)}catch(e){console.error("Error writing camera quality setting:",e)}},Xt=()=>{try{return localStorage.getItem(Ge.value)||N.value[0]}catch(t){return console.error("Error reading active category:",t),N.value[0]}},ft=t=>{try{localStorage.setItem(Ge.value,t)}catch(e){console.error("Error writing active category:",e)}},A=w(((Et=(Vt=p.category)==null?void 0:Vt.settings)==null?void 0:Et.menu_model)||"horizontal"),L=w(((Ot=(At=p.category)==null?void 0:At.settings)==null?void 0:Ot.position)||"top"),se=w(!1),ie=w(!1),{pos:mt,dragging:Zt,startLongPress:Se,cancelLongPress:pt,onDrag:Ie,stopDrag:Me,handleClick:en}=Ht("toggleMenuButtonPos",{x:window.innerWidth-80,y:20}),tn=t=>{en(t)&&nn()},nn=()=>{se.value=!se.value},oe=()=>{se.value=!1},Qe=t=>t?"bg-gradient-to-r from-indigo-700 to-sky-600 text-white":"bg-gray-50 hover:bg-gray-100 text-gray-700",{pos:vt,dragging:sn,startLongPress:De,cancelLongPress:ht,onDrag:Le,stopDrag:Te,handleClick:on}=Ht("damageButtonPos",{x:window.innerWidth-80,y:window.innerHeight-80}),an=t=>{on(t)&&(Pe.value=!0)},Pe=w(!1),Ve=w(!1),ae=w(""),D=w(null),le=w(""),re=w(""),Z=w(""),Ee=w(!1),Ae=w(null),ln=(t,e)=>{Ee.value=!0,Ae.value=e,He.visit(t,{onFinish:()=>{Ee.value=!1,Ae.value=null}})},W=w([]),xt=t=>{W.value=[],t.forEach(e=>{(e.menu_point||[]).forEach(u=>{var s,d;if((s=u.id)!=null&&s.toString()&&(u.input_type==="radio"||u.input_type==="imageTOradio"||u.input_type==="select")){const n=f.results[u.inspection_point_id];if(n&&n.status){const v=u.settings||{};let r=[];if(Array.isArray(n.status))n.status.forEach(C=>{var z;const T=(z=v.radios)==null?void 0:z.find(O=>O.value===C);T&&r.push(T)});else{const C=(d=v.radios)==null?void 0:d.find(T=>T.value===n.status);C&&r.push(C)}r.forEach(C=>{var T;(T=C==null?void 0:C.settings)!=null&&T.show_trigger&&(C.settings.target_point_id||[]).forEach(O=>{const o=O.toString();W.value.includes(o)||W.value.push(o)})})}}})})},rn=F(()=>p.appMenus.some(t=>t.input_type==="damage")),N=F(()=>["vehicle",...p.appMenus.map(t=>String(t.id)),"conclusion"]),k=w(N.value[0]),yt=w(0),Ye=F(()=>{if(k.value==="vehicle"||k.value==="conclusion")return null;const t=p.appMenus.find(e=>String(e.id)===k.value);return t?{...t,points:Xe(t.menu_point,t.input_type==="damage")}:null}),Xe=(t,e)=>e?(t||[]).filter(m=>{const u=m.inspection_point_id;return Ct(u)}):t||[],U=w({plate_number:p.inspection.plate_number,car_id:p.inspection.car_id,car_name:p.inspection.car_name}),M=w({notes:p.inspection.overall_note||"",flooded:((jt=(Ft=Ce(p.inspection.settings))==null?void 0:Ft.conclusion)==null?void 0:jt.flooded)||null,collision:((Bt=(qt=Ce(p.inspection.settings))==null?void 0:qt.conclusion)==null?void 0:Bt.collision)||null,collision_severity:((Nt=(zt=Ce(p.inspection.settings))==null?void 0:zt.conclusion)==null?void 0:Nt.collision_severity)||null}),f=Ln((()=>{const t=[...p.appMenus.flatMap(v=>v.menu_point||[]),...p.damagePoints||[]],e={},m={};t.forEach(v=>{const r=v.inspection_point_id,C=p.existingResults[r];e[r]={status:(C==null?void 0:C.status)||"",note:(C==null?void 0:C.note)||""},m[r]=p.existingImages[r]||[]});const u=ut(),b={...e,...u.results||{}},s={...m,...u.images||{}},d={...U.value,...u.vehicleDetails||{}},n=u.overall_note!==void 0?u.overall_note:p.inspection.overall_note||"";return{inspection_id:p.inspection.id,results:b,images:s,overall_note:n,plate_number:d.plate_number,car_id:d.car_id,car_name:d.car_name}})());$(f,t=>{$t({results:t.results,images:t.images,overall_note:t.overall_note,vehicleDetails:U.value,conclusion:M.value})},{deep:!0}),$(U,t=>{f.plate_number=t.plate_number,f.car_id=t.car_id,f.car_name=t.car_name},{deep:!0}),$(M,t=>{f.overall_note=t.notes},{deep:!0});const q=Tn("vehicleFeatures",w(null));q.value=JSON.parse(localStorage.getItem("vehicle_features")||"{}"),ot("vehicleFeatures",q);const _t=w(!1),wt=t=>{_t.value=t},bt=w(!1),un=t=>{bt.value=t},Oe=F(()=>{var b;const t=U.value.plate_number&&/^[A-Z]{1,2}\d{1,4}[A-Z]{0,3}$/.test(U.value.plate_number),e=!!((b=U.value.car_name)!=null&&b.trim()),m=!bt.value,u=!_t.value;return t&&e&&m&&u}),kt=F(()=>{if(!ae.value.trim())return p.damagePoints||[];const t=ae.value.toLowerCase().trim();return(p.damagePoints||[]).filter(e=>{var m,u,b,s,d;return((u=(m=e.inspection_point)==null?void 0:m.name)==null?void 0:u.toLowerCase().includes(t))||((s=(b=e.inspection_point)==null?void 0:b.description)==null?void 0:s.toLowerCase().includes(t))||((d=St(e))==null?void 0:d.toLowerCase().includes(t))})}),Ct=t=>{const e=f.results[t]&&(f.results[t].status||f.results[t].note),m=f.images[t]&&f.images[t].length>0;return e||m},St=t=>{var e;return((e=t.inspection_point.component)==null?void 0:e.name)||"Komponen Tidak Diketahui"},cn=t=>f.results[t]||null,Ze=()=>{var s;const t=M.value,e=!!t.flooded,m=!!t.collision,u=t.collision==="yes"?!!t.collision_severity:!0,b=!!((s=t.notes)!=null&&s.trim());return e&&m&&u&&b},It=F(()=>({flooded:M.value.flooded||null,collision:M.value.collision||null,collision_severity:M.value.collision_severity||null,note:M.value.notes||null,isComplete:Ze()})),Mt=F(()=>{const t=Oe.value,e=p.appMenus.every(u=>et(u)),m=Ze();return t&&e&&m}),ue=t=>{try{return typeof t.settings=="string"?JSON.parse(t.settings):t.settings}catch{return{}}},Dt=t=>{var b,s;const e=ue(t);if(!(e.transmission||e.fuel_type||e.rear_door||e.pick_up||e.box))return!0;const m=(b=p.car)==null?void 0:b.transmission,u=(s=p.car)==null?void 0:s.fuel_type;if(e.transmission&&Array.isArray(e.transmission)&&e.transmission.length>0&&m&&!e.transmission.includes(m)||e.fuel_type&&e.fuel_type.trim()!==""&&u&&e.fuel_type!==u||e.rear_door&&(!q.value||!q.value.rear_door))return!1;if(e.pick_up&&e.box)if(q.value){const d=q.value.pick_up===!0,n=q.value.box===!0;if(!d&&!n)return!1}else return!1;else if(e.pick_up){if(!q.value||!q.value.pick_up)return!1}else if(e.box&&(!q.value||!q.value.box))return!1;return!0},et=t=>t.input_type==="damage"?(Xe(t.menu_point,!0)||[]).filter(s=>{var r;if(!Dt(s))return!1;const n=ue(s),v=(r=s.id)==null?void 0:r.toString();return n!=null&&n.is_triggered?W.value.includes(v):s.is_default}).every(s=>{var O,o,R,K,ne,ce,de,ge,fe,me,pe,ve,he,xe,ye,_e,we,be,ke,Q,ze;const d=s.inspection_point_id,n=f.results[d],v=f.images[d]||[],r=ue(s);let C=r.is_required!==!1;if(r!=null&&r.is_triggered&&W.value.includes((O=s.id)==null?void 0:O.toString())&&(C=!0),!C)return!0;if(!n)return!1;const T=Array.isArray(n.status);switch(s.input_type){case"text":if(!n.note||n.note.trim()==="")return!1;if(r.min_length){const a=parseInt(r.min_length);if(n.note.trim().length<a)return!1}if(r.max_length){const a=parseInt(r.max_length);if(n.note.trim().length>a)return!1}return!0;case"number":if(!n.note||n.note.trim()==="")return!1;const H=parseFloat(n.note);if(isNaN(H))return!1;if(r.min!==void 0){const a=parseFloat(r.min);if(H<a)return!1}if(r.max!==void 0){const a=parseFloat(r.max);if(H>a)return!1}if(r.step){const a=parseFloat(r.step),c=(H-(r.min||0))%a;if(Math.abs(c)>1e-5&&Math.abs(c-a)>1e-5)return!1}return!0;case"textarea":if(!n.note||n.note.trim()==="")return!1;if(r.min_length){const a=parseInt(r.min_length);if(n.note.trim().length<a)return!1}if(r.max_length){const a=parseInt(r.max_length);if(n.note.trim().length>a)return!1}return!0;case"account":if(!n.note||n.note.trim()==="")return!1;const Ne=n.note.replace(/[^0-9]/g,""),P=parseFloat(Ne);if(isNaN(P))return!1;if(r.min_value){const a=parseFloat(r.min_value);if(P<a)return!1}if(r.max_value){const a=parseFloat(r.max_value);if(P>a)return!1}return!0;case"date":if(!n.note||n.note.trim()==="")return!1;const l=new Date(n.note);if(r.min_date){const a=new Date(r.min_date);if(l<a)return!1}if(r.max_date){const a=new Date(r.max_date);if(l>a)return!1}return!0;case"radio":if(!n.status)return!1;if(T){if(n.status.length===0)return!1;let a=!1,c=!1;for(const _ of n.status){const S=(o=r.radios)==null?void 0:o.find(V=>V.value===_);S&&((R=S.settings)!=null&&R.show_textarea&&S.settings.textarea_is_required!==!1&&(a=!0),(K=S.settings)!=null&&K.show_image_upload&&S.settings.image_is_required!==!1&&(c=!0))}if(a&&(!n.note||n.note.trim()===""))return!1;if(n.note&&n.note.trim()!=="")for(const _ of n.status){const S=(ne=r.radios)==null?void 0:ne.find(V=>V.value===_);if(!(!S||!((ce=S.settings)!=null&&ce.show_textarea))){if(S.settings.min_length){const V=parseInt(S.settings.min_length);if(n.note.trim().length<V)return!1}if(S.settings.max_length){const V=parseInt(S.settings.max_length);if(n.note.trim().length>V)return!1}}}if(c&&(!v||v.length===0))return!1;if(v&&v.length>0){let _=1;for(const S of n.status){const V=(de=r.radios)==null?void 0:de.find(Dn=>Dn.value===S);(ge=V==null?void 0:V.settings)!=null&&ge.show_image_upload&&V.settings.max_files&&(_=Math.max(_,parseInt(V.settings.max_files)))}if(v.length>_)return!1}return!0}else{const a=(fe=r.radios)==null?void 0:fe.find(c=>c.value===n.status);if(!a)return!1;if((me=a.settings)!=null&&me.show_textarea){if(a.settings.textarea_is_required!==!1&&(!n.note||n.note.trim()===""))return!1;if(n.note&&n.note.trim()!==""){if(a.settings.min_length){const c=parseInt(a.settings.min_length);if(n.note.trim().length<c)return!1}if(a.settings.max_length){const c=parseInt(a.settings.max_length);if(n.note.trim().length>c)return!1}}}if((pe=a.settings)!=null&&pe.show_image_upload){if(a.settings.image_is_required!==!1&&(!v||v.length===0))return!1;if(v&&v.length>0&&a.settings.max_files){const c=parseInt(a.settings.max_files);if(v.length>c)return!1}}return!0}case"select":if(!n.status)return!1;const h=(ve=r.radios)==null?void 0:ve.find(a=>a.value===n.status);if(!h)return!1;if((he=h.settings)!=null&&he.show_textarea){if(h.settings.textarea_is_required!==!1&&(!n.note||n.note.trim()===""))return!1;if(n.note&&n.note.trim()!==""){if(h.settings.min_length){const a=parseInt(h.settings.min_length);if(n.note.trim().length<a)return!1}if(h.settings.max_length){const a=parseInt(h.settings.max_length);if(n.note.trim().length>a)return!1}}}if((xe=h.settings)!=null&&xe.show_image_upload){if(h.settings.image_is_required!==!1&&(!v||v.length===0))return!1;if(v&&v.length>0&&h.settings.max_files){const a=parseInt(h.settings.max_files);if(v.length>a)return!1}}return!0;case"imageTOradio":if(!v||v.length===0||!n.status)return!1;if(r.max_files){const a=parseInt(r.max_files);if(v.length>a)return!1}if(T){if(n.status.length===0)return!1;let a=!1;for(const c of n.status){const _=(ye=r.radios)==null?void 0:ye.find(S=>S.value===c);_&&(_e=_.settings)!=null&&_e.show_textarea&&_.settings.textarea_is_required!==!1&&(a=!0)}if(a&&(!n.note||n.note.trim()===""))return!1;if(n.note&&n.note.trim()!=="")for(const c of n.status){const _=(we=r.radios)==null?void 0:we.find(S=>S.value===c);if(!(!_||!((be=_.settings)!=null&&be.show_textarea))){if(_.settings.min_length){const S=parseInt(_.settings.min_length);if(n.note.trim().length<S)return!1}if(_.settings.max_length){const S=parseInt(_.settings.max_length);if(n.note.trim().length>S)return!1}}}return!0}else{const a=(ke=r.radios)==null?void 0:ke.find(c=>c.value===n.status);if(!a)return!1;if((Q=a.settings)!=null&&Q.show_textarea){if(a.settings.textarea_is_required!==!1&&(!n.note||n.note.trim()===""))return!1;if(n.note&&n.note.trim()!==""){if(a.settings.min_length){const c=parseInt(a.settings.min_length);if(n.note.trim().length<c)return!1}if(a.settings.max_length){const c=parseInt(a.settings.max_length);if(n.note.trim().length>c)return!1}}}return!0}case"image":if(v.length===0)return!1;if(r.max_files){const a=parseInt(r.max_files);if(v.length>a)return!1}return!0;default:return!!(n.status||(ze=n.note)!=null&&ze.trim())}}):t.id==="conclusion"?Ze():t.id==="vehicle"?Oe.value:(Xe(t.menu_point,!1)||[]).filter(u=>{var n;if(!Dt(u))return!1;const s=ue(u),d=(n=u.id)==null?void 0:n.toString();return s!=null&&s.is_triggered?W.value.includes(d):u.is_default}).every(u=>{var T,z,O,o,R,K,ne,ce,de,ge,fe,me,pe,ve,he,xe,ye,_e,we,be,ke;const b=u.inspection_point_id,s=f.results[b],d=f.images[b]||[],n=ue(u);let v=n.is_required!==!1;if(n!=null&&n.is_triggered&&W.value.includes((T=u.id)==null?void 0:T.toString())&&(v=!0),!v)return!0;if(!s)return!1;const r=Array.isArray(s.status);switch(u.input_type){case"text":if(!s.note||s.note.trim()==="")return!1;if(n.min_length){const l=parseInt(n.min_length);if(s.note.trim().length<l)return!1}if(n.max_length){const l=parseInt(n.max_length);if(s.note.trim().length>l)return!1}return!0;case"number":if(!s.note||s.note.trim()==="")return!1;const Q=parseFloat(s.note);if(isNaN(Q))return!1;if(n.min!==void 0){const l=parseFloat(n.min);if(Q<l)return!1}if(n.max!==void 0){const l=parseFloat(n.max);if(Q>l)return!1}if(n.step){const l=parseFloat(n.step),h=(Q-(n.min||0))%l;if(Math.abs(h)>1e-5&&Math.abs(h-l)>1e-5)return!1}return!0;case"textarea":if(!s.note||s.note.trim()==="")return!1;if(n.min_length){const l=parseInt(n.min_length);if(s.note.trim().length<l)return!1}if(n.max_length){const l=parseInt(n.max_length);if(s.note.trim().length>l)return!1}return!0;case"account":if(!s.note||s.note.trim()==="")return!1;const ze=s.note.replace(/[^0-9]/g,""),H=parseFloat(ze);if(isNaN(H))return!1;if(n.min_value){const l=parseFloat(n.min_value);if(H<l)return!1}if(n.max_value){const l=parseFloat(n.max_value);if(H>l)return!1}return!0;case"date":if(!s.note||s.note.trim()==="")return!1;const Ne=new Date(s.note);if(n.min_date){const l=new Date(n.min_date);if(Ne<l)return!1}if(n.max_date){const l=new Date(n.max_date);if(Ne>l)return!1}return!0;case"radio":if(!s.status)return!1;if(r){if(s.status.length===0)return!1;let l=!1,h=!1;for(const a of s.status){const c=(z=n.radios)==null?void 0:z.find(_=>_.value===a);c&&((O=c.settings)!=null&&O.show_textarea&&c.settings.textarea_is_required!==!1&&(l=!0),(o=c.settings)!=null&&o.show_image_upload&&c.settings.image_is_required!==!1&&(h=!0))}if(l&&(!s.note||s.note.trim()===""))return!1;if(s.note&&s.note.trim()!=="")for(const a of s.status){const c=(R=n.radios)==null?void 0:R.find(_=>_.value===a);if(!(!c||!((K=c.settings)!=null&&K.show_textarea))){if(c.settings.min_length){const _=parseInt(c.settings.min_length);if(s.note.trim().length<_)return!1}if(c.settings.max_length){const _=parseInt(c.settings.max_length);if(s.note.trim().length>_)return!1}}}if(h&&(!d||d.length===0))return!1;if(d&&d.length>0){let a=1;for(const c of s.status){const _=(ne=n.radios)==null?void 0:ne.find(S=>S.value===c);(ce=_==null?void 0:_.settings)!=null&&ce.show_image_upload&&_.settings.max_files&&(a=Math.max(a,parseInt(_.settings.max_files)))}if(d.length>a)return!1}return!0}else{const l=(de=n.radios)==null?void 0:de.find(h=>h.value===s.status);if(!l)return!1;if((ge=l.settings)!=null&&ge.show_textarea){if(l.settings.textarea_is_required!==!1&&(!s.note||s.note.trim()===""))return!1;if(s.note&&s.note.trim()!==""){if(l.settings.min_length){const h=parseInt(l.settings.min_length);if(s.note.trim().length<h)return!1}if(l.settings.max_length){const h=parseInt(l.settings.max_length);if(s.note.trim().length>h)return!1}}}if((fe=l.settings)!=null&&fe.show_image_upload){if(l.settings.image_is_required!==!1&&(!d||d.length===0))return!1;if(d&&d.length>0&&l.settings.max_files){const h=parseInt(l.settings.max_files);if(d.length>h)return!1}}return!0}case"select":if(!s.status)return!1;const P=(me=n.radios)==null?void 0:me.find(l=>l.value===s.status);if(!P)return!1;if((pe=P.settings)!=null&&pe.show_textarea){if(P.settings.textarea_is_required!==!1&&(!s.note||s.note.trim()===""))return!1;if(s.note&&s.note.trim()!==""){if(P.settings.min_length){const l=parseInt(P.settings.min_length);if(s.note.trim().length<l)return!1}if(P.settings.max_length){const l=parseInt(P.settings.max_length);if(s.note.trim().length>l)return!1}}}if((ve=P.settings)!=null&&ve.show_image_upload){if(P.settings.image_is_required!==!1&&(!d||d.length===0))return!1;if(d&&d.length>0&&P.settings.max_files){const l=parseInt(P.settings.max_files);if(d.length>l)return!1}}return!0;case"imageTOradio":if(!d||d.length===0||!s.status)return!1;if(n.max_files){const l=parseInt(n.max_files);if(d.length>l)return!1}if(r){if(s.status.length===0)return!1;let l=!1;for(const h of s.status){const a=(he=n.radios)==null?void 0:he.find(c=>c.value===h);a&&(xe=a.settings)!=null&&xe.show_textarea&&a.settings.textarea_is_required!==!1&&(l=!0)}if(l&&(!s.note||s.note.trim()===""))return!1;if(s.note&&s.note.trim()!=="")for(const h of s.status){const a=(ye=n.radios)==null?void 0:ye.find(c=>c.value===h);if(!(!a||!((_e=a.settings)!=null&&_e.show_textarea))){if(a.settings.min_length){const c=parseInt(a.settings.min_length);if(s.note.trim().length<c)return!1}if(a.settings.max_length){const c=parseInt(a.settings.max_length);if(s.note.trim().length>c)return!1}}}return!0}else{const l=(we=n.radios)==null?void 0:we.find(h=>h.value===s.status);if(!l)return!1;if((be=l.settings)!=null&&be.show_textarea){if(l.settings.textarea_is_required!==!1&&(!s.note||s.note.trim()===""))return!1;if(s.note&&s.note.trim()!==""){if(l.settings.min_length){const h=parseInt(l.settings.min_length);if(s.note.trim().length<h)return!1}if(l.settings.max_length){const h=parseInt(l.settings.max_length);if(s.note.trim().length>h)return!1}}}return!0}case"image":if(d.length===0)return!1;if(n.max_files){const l=parseInt(n.max_files);if(d.length>l)return!1}return!0;default:return!!(s.status||(ke=s.note)!=null&&ke.trim())}}),B=w(!0),ee=w(ct()),G=w(gt()),tt=w(!1),dn=()=>{console.log("Opening settings modal"),tt.value=!0},nt=()=>{console.log("Closing settings modal"),tt.value=!1},Fe=w(null),st=w([]),je=w(0),qe=w(!1);ot("imageSourceSetting",ee),ot("cameraQualitySetting",G);const gn=()=>{B.value=!B.value,Gt(B.value)},fn=()=>{Qt(ee.value),console.log("Image source setting updated to:",ee.value)},mn=()=>{Yt(G.value),console.log("Camera quality setting updated to:",G.value)},Be=()=>{Fe.value&&Fn(()=>{const t=Fe.value.querySelector(`[data-category="${k.value}"]`);if(!t)return;const e=Fe.value,m=e.clientWidth,u=t.offsetLeft,b=t.clientWidth,s=u-m/2+b/2;e.scrollTo({left:s,behavior:"smooth"})})},pn=()=>je.value===0?(je.value=1,qe.value=!0,setTimeout(()=>{je.value=0,qe.value=!1},2e3),window.history.pushState(null,null,window.location.href),!1):(je.value=0,qe.value=!1,He.visit(route("job.index")),!0),vn=()=>{window.history.state===null&&window.history.replaceState({isBackButtonControlled:!0},""),window.history.pushState({isBackButtonControlled:!0},""),window.addEventListener("popstate",t=>{t.state&&t.state.isBackButtonControlled&&(t.preventDefault(),pn())})},hn=t=>{D.value=t;const e=t.inspection_point_id,m=f.results[e]||{};le.value=m.status||"",re.value=m.note||"",Pe.value=!1,Ve.value=!0},xn=t=>{D.value&&(f.images[D.value.inspection_point_id]=t)},yn=()=>{if(D.value){const t=D.value.inspection_point_id;f.results[t]={...f.results[t],status:le.value,note:re.value},Z.value="Data berhasil disimpan di lokal!",setTimeout(()=>Z.value="",1e3)}it()},_n=({pointId:t,type:e,value:m})=>{var u;(u=f.results[t])!=null&&u.hasOwnProperty(e)&&(f.results[t][e]=m)},Lt=async t=>{if(t&&confirm("Apakah kamu yakin ingin menghapus data ini?")){try{await He.post(route("inspections.delete-result"),{inspection_id:p.inspection.id,point_id:t},{preserveScroll:!0,preserveState:!0,onSuccess:()=>{f.results[t]&&(f.results[t]={status:"",note:""}),f.images[t]&&(f.images[t]=[]),Z.value="Data berhasil dihapus!",setTimeout(()=>Z.value="",1e3)},onError:e=>{console.error("Error menghapus hasil:",e)}})}catch(e){console.error("Error menghapus hasil:",e)}it()}},wn=t=>{Object.assign(U.value,t),wt(!0)},bn=t=>{console.log("Save car details locally:",t)},kn=t=>{console.log("Received conclusion data from child:",t),M.value={...M.value,...t},f.overall_note=t.notes||"",console.log("Conclusion state updated:",M.value)},Cn=()=>{if(!Mt.value){alert("Harap lengkapi semua menu inspeksi termasuk kesimpulan sebelum submit final");return}if(!confirm("Apakah Anda yakin ingin mengirim semua data inspeksi? Data lokal akan dihapus setelah berhasil dikirim."))return;ie.value=!0;const t={...f.data(),overall_note:M.value.notes,conclusion:{notes:M.value.notes,flooded:M.value.flooded,collision:M.value.collision,collision_severity:M.value.collision_severity}};He.post(route("inspections.final-submit-local",{id:p.inspection.id}),t,{preserveScroll:!0,onSuccess:()=>{Jt()},onError:e=>{console.error("Kesalahan pengiriman:",e),ie.value=!1}})},Sn=({pointId:t,imageId:e})=>{f.images[t]&&(f.images[t]=f.images[t].filter(m=>m.id!==e))},Tt=()=>{Pe.value=!1,ae.value=""},it=()=>{Ve.value=!1,D.value=null,le.value="",re.value=""},In=()=>{},te=jn.throttle(t=>{k.value!==t&&(k.value=t,ft(t),A.value==="horizontal"&&Be())},50),Pt=t=>{let e=yt.value+t;e>=0&&e<N.value.length&&(k.value=N.value[e],Be())},Mn=()=>{let t=0,e=0,m=null;const u=n=>{B.value&&(t=n.changedTouches[0].screenX)},b=n=>{B.value&&(e=n.changedTouches[0].screenX,s())},s=()=>{if(!B.value)return;const n=250;e<t-n?Pt(1):e>t+n&&Pt(-1)},d=()=>{const n=document.querySelector(".relative.overflow-hidden");return n&&(n.addEventListener("touchstart",u,{passive:!0}),n.addEventListener("touchend",b,{passive:!0})),()=>{n&&(n.removeEventListener("touchstart",u),n.removeEventListener("touchend",b))}};return m=d(),$(B,n=>{m&&m(),n&&(m=d())}),()=>{m&&m()}};return $(k,(t,e)=>{Be()}),$(k,t=>{yt.value=N.value.indexOf(t)}),$(G,t=>{mn()}),$(()=>f.results,t=>{xt(p.appMenus)},{deep:!0}),Pn(()=>{xt(p.appMenus);const t=ut();if(B.value=Wt(),ee.value=ct(),G.value=gt(),t.vehicleDetails&&(Object.assign(U.value,t.vehicleDetails),f.plate_number=t.vehicleDetails.plate_number,f.car_id=t.vehicleDetails.car_id,f.car_name=t.vehicleDetails.car_name),t.conclusion)console.log("Loading conclusion from localStorage:",t.conclusion),Object.assign(M.value,t.conclusion),f.overall_note=t.conclusion.notes||"";else{const u=Ce(p.inspection.settings).conclusion||{};M.value={notes:p.inspection.notes||"",flooded:u.flooded||"",collision:u.collision||"",collision_severity:u.collision_severity||""},f.overall_note=p.inspection.notes||""}t.results&&Object.assign(f.results,t.results),t.images&&Object.assign(f.images,t.images);const e=Xt();N.value.includes(e)?k.value=e:(k.value=N.value[0],ft(N.value[0])),Mn(),vn(),setTimeout(()=>{Be()},100)}),(t,e)=>{var m,u,b,s,d,n,v,r,C,T,z,O;return x(),y("div",Kn,[g(sn)||g(Zt)?(x(),y("div",Hn)):I("",!0),A.value==="vertical"?(x(),y("button",{key:1,onMousedown:e[0]||(e[0]=(...o)=>g(Se)&&g(Se)(...o)),onMouseup:e[1]||(e[1]=(...o)=>g(Me)&&g(Me)(...o)),onMouseleave:e[2]||(e[2]=(...o)=>g(pt)&&g(pt)(...o)),onMousemove:e[3]||(e[3]=(...o)=>g(Ie)&&g(Ie)(...o)),onTouchstart:e[4]||(e[4]=(...o)=>g(Se)&&g(Se)(...o)),onTouchend:e[5]||(e[5]=(...o)=>g(Me)&&g(Me)(...o)),onTouchmove:e[6]||(e[6]=(...o)=>g(Ie)&&g(Ie)(...o)),onClick:tn,class:"fixed z-40 p-4 bg-gradient-to-r from-indigo-700 to-sky-600 text-white border shadow-lg rounded-full hover:shadow-xl transition",style:Rt({left:g(mt).x+"px",top:g(mt).y+"px"}),"aria-label":"Toggle vertical menu"},[se.value?(x(),y("svg",Jn,e[31]||(e[31]=[i("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)]))):(x(),y("svg",$n,e[30]||(e[30]=[i("path",{"fill-rule":"evenodd",d:"M3 5h14v2H3V5zm0 4h10v2H3V9zm0 4h6v2H3v-2z","clip-rule":"evenodd"},null,-1)])))],36)):I("",!0),A.value==="horizontal"?(x(),y("div",{key:2,class:j(["z-10 bg-white shadow-sm",{"sticky top-0 mb-2":L.value==="top","fixed bottom-0 left-0 right-0":L.value==="bottom"}])},[i("div",Wn,[i("div",{class:"flex-shrink-0"},[i("button",{onClick:dn,class:"p-2 rounded-full text-gray-600 hover:text-gray-800 hover:bg-gray-100 transition-colors duration-200",title:"Pengaturan"},e[32]||(e[32]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)]))]),i("div",{ref_key:"menuContainer",ref:Fe,class:"flex-1 overflow-x-auto scrollbar-hide py-3 ml-2 space-x-2 menu-container",onScroll:In},[i("div",Gn,[i("button",{ref_key:"menuItems",ref:st,onClick:e[7]||(e[7]=o=>g(te)("vehicle")),class:j(["flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors duration-200 menu-item",{"bg-gradient-to-r from-indigo-700 to-sky-600 shadow-lg text-white":k.value==="vehicle","bg-gray-100 text-gray-700 hover:bg-gray-200":k.value!=="vehicle"}]),"data-category":"vehicle"},[e[33]||(e[33]=at(" Detail Kendaraan ")),Oe.value?(x(),y("span",Qn," ✓ ")):I("",!0)],2),(x(!0),y(Re,null,lt(E.appMenus,o=>(x(),y("button",{key:o.id,ref_for:!0,ref_key:"menuItems",ref:st,onClick:R=>g(te)(String(o.id)),class:j(["flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors duration-200 menu-item",{"bg-gradient-to-r from-indigo-700 to-sky-600 shadow-lg text-white":k.value===String(o.id),"bg-gray-100 text-gray-700 hover:bg-gray-200":k.value!==String(o.id)}]),"data-category":String(o.id)},[at(X(o.name)+" ",1),et(o)?(x(),y("span",Xn," ✓ ")):I("",!0)],10,Yn))),128)),i("button",{ref_key:"menuItems",ref:st,onClick:e[8]||(e[8]=o=>g(te)("conclusion")),class:j(["flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors duration-200 menu-item",{"bg-gradient-to-r from-indigo-700 to-sky-600 shadow-lg text-white":k.value==="conclusion","bg-gray-100 text-gray-700 hover:bg-gray-200":k.value!=="conclusion"}]),"data-category":"conclusion"},[e[34]||(e[34]=at(" Kesimpulan ")),It.value.isComplete?(x(),y("span",Zn," ✓ ")):I("",!0)],2)])],544)])],2)):I("",!0),A.value==="vertical"&&se.value?(x(),y("div",es,[i("div",{class:"absolute inset-0 bg-black bg-opacity-30",onClick:oe}),i("div",{class:j(["absolute z-40 w-60 bg-white rounded-xl shadow-xl p-2 max-h-[75vh] overflow-y-auto",{"top-16 right-4":L.value==="top-right","top-16 left-4":L.value==="top-left","bottom-16 right-4":L.value==="bottom-right","bottom-16 left-4":L.value==="bottom-left"}])},[i("div",{class:"flex items-center justify-between px-2 py-1 border-b"},[e[35]||(e[35]=i("div",{class:"text-sm font-semibold"},"Pilih Menu",-1)),i("button",{onClick:oe,class:"text-xs text-gray-500 hover:text-gray-700"},"Tutup")]),i("div",ts,[i("button",{onClick:e[9]||(e[9]=o=>{g(te)("vehicle"),oe()}),class:j([Qe(k.value==="vehicle"),"w-full flex items-center justify-between px-3 py-2 rounded-md text-sm"])},[e[36]||(e[36]=i("span",null,"Detail Kendaraan",-1)),Oe.value?(x(),y("span",ns,"✓")):I("",!0)],2),(x(!0),y(Re,null,lt(E.appMenus,o=>(x(),y("button",{key:`vmenu-${o.id}`,onClick:()=>{g(te)(String(o.id)),oe()},class:j([Qe(k.value===String(o.id)),"w-full flex items-center justify-between px-3 py-2 rounded-md text-sm"])},[i("span",null,X(o.name),1),et(o)?(x(),y("span",is,"✓")):I("",!0)],10,ss))),128)),i("button",{onClick:e[10]||(e[10]=o=>{g(te)("conclusion"),oe()}),class:j([Qe(k.value==="conclusion"),"w-full flex items-center justify-between px-3 py-2 rounded-md text-sm"])},[e[37]||(e[37]=i("span",null,"Kesimpulan",-1)),It.value.isComplete?(x(),y("span",os,"✓")):I("",!0)],2)])],2)])):I("",!0),i("div",{class:j(["max-w-7xl mx-auto px-2 sm:px-4 lg:px-6 py-1",{"pb-4 pt-1":L.value==="top","pb-20 pt-4":L.value==="bottom","pb-4 pt-4":A.value==="vertical"}])},[Y(Ut,{name:"fade"},{default:Ue(()=>[Z.value?(x(),y("div",as,X(Z.value),1)):I("",!0)]),_:1}),i("div",ls,[Y(Ut,{name:"category-slide",mode:"out-in"},{default:Ue(()=>[k.value==="vehicle"?(x(),y("div",rs,[Y(qn,{inspection:E.inspection,CarDetail:E.CarDetail,allInspections:p.allInspections,onUpdateVehicle:wn,onSaveCarDetails:bn,"onUpdate:validation":un,"onUpdate:hasUnsavedChanges":wt},null,8,["inspection","CarDetail","allInspections"])])):Ye.value&&k.value!=="conclusion"?(x(),y("div",{key:Ye.value.id},[Y(Bn,{category:Ye.value,"inspection-id":E.inspection.id,car:p.car,form:g(f),head:A.value,onUpdateResult:_n,onHapusPoint:Lt,onRemoveImage:Sn},null,8,["category","inspection-id","car","form","head"])])):k.value==="conclusion"?(x(),y("div",us,[Y(zn,{form:{conclusion:M.value},"inspection-id":E.inspection.id,inspection:E.inspection,settings:E.inspection.settings||{},onUpdateConclusion:kn},null,8,["form","inspection-id","inspection","settings"])])):I("",!0)]),_:1})]),k.value==="conclusion"?(x(),y("div",{key:0,class:j(["flex justify-end gap-4 mt-2 p-4 bg-white rounded-xl shadow-md",{"mb-4":L.value==="top","mb-20":L.value==="bottom"}])},[Y(g(En),{href:t.route("inspections.pending",E.inspectionId),as:"button",type:"button",disabled:Ee.value&&Ae.value==="pending",onClick:e[11]||(e[11]=Kt(o=>ln(t.route("inspections.pending",E.inspectionId),"pending"),["prevent"])),class:"inline-flex items-center justify-center px-3 py-1.5 text-sm font-medium rounded-md shadow-sm bg-yellow-500 text-white hover:bg-yellow-600 transition disabled:opacity-50 disabled:cursor-not-allowed"},{default:Ue(()=>[Ee.value&&Ae.value==="pending"?(x(),y(Re,{key:0},[e[38]||(e[38]=i("svg",{class:"animate-spin h-4 w-4 text-white mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),e[39]||(e[39]=i("span",null,"Memproses...",-1))],64)):(x(),y("span",cs,"Tunda"))]),_:1},8,["href","disabled"]),i("button",{type:"button",onClick:Cn,disabled:!Mt.value||ie.value,class:"w-full inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm bg-gradient-to-r from-indigo-700 to-sky-600 shadow-lg text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed"},[ie.value?(x(),y("svg",gs,e[40]||(e[40]=[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):I("",!0),i("span",null,X(ie.value?"Mengirim...":"Final Kirim Inspeksi"),1)],8,ds)],2)):I("",!0),rn.value?(x(),y("button",{key:1,onMousedown:e[12]||(e[12]=(...o)=>g(De)&&g(De)(...o)),onMouseup:e[13]||(e[13]=(...o)=>g(Te)&&g(Te)(...o)),onMouseleave:e[14]||(e[14]=(...o)=>g(ht)&&g(ht)(...o)),onMousemove:e[15]||(e[15]=(...o)=>g(Le)&&g(Le)(...o)),onTouchstart:e[16]||(e[16]=(...o)=>g(De)&&g(De)(...o)),onTouchend:e[17]||(e[17]=(...o)=>g(Te)&&g(Te)(...o)),onTouchmove:e[18]||(e[18]=(...o)=>g(Le)&&g(Le)(...o)),onClick:an,class:"fixed z-5 p-4 bg-gradient-to-r from-indigo-700 to-sky-600 text-white rounded-full shadow-lg",style:Rt({left:g(vt).x+"px",top:g(vt).y+"px"})},e[41]||(e[41]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})],-1)]),36)):I("",!0),Y(Nn,{show:Pe.value,title:"Cari Point Inspeksi",subtitle:"Pilih point inspeksi untuk ditambahkan",onClose:Tt},{default:Ue(()=>[i("button",{onClick:Tt,class:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors z-10"},e[42]||(e[42]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),i("div",fs,[i("div",ms,[J(i("input",{"onUpdate:modelValue":e[19]||(e[19]=o=>ae.value=o),type:"text",placeholder:"Cari point inspeksi...",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[An,ae.value]]),e[43]||(e[43]=i("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[i("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))]),i("div",ps,[kt.value.length===0?(x(),y("div",vs," Tidak ada point yang ditemukan ")):I("",!0),(x(!0),y(Re,null,lt(kt.value,o=>{var R,K;return x(),y("button",{key:o.id,onClick:ne=>hn(o),class:"w-full text-left p-3 border-b border-gray-200 hover:bg-gray-50 transition-colors"},[i("div",xs,X((R=o.inspection_point)==null?void 0:R.name),1),i("div",ys,X((K=o.inspection_point)==null?void 0:K.description),1),i("div",_s,X(St(o)),1),Ct(o.inspection_point_id)?(x(),y("div",ws," ✓ Sudah ada data ")):I("",!0)],8,hs)}),128))])])]),_:1},8,["show"]),Ve.value?(x(),Vn(Rn,{key:(m=D.value)==null?void 0:m.id,show:Ve.value,title:((b=(u=D.value)==null?void 0:u.inspection_point)==null?void 0:b.name)||"Detail Point",subtitle:(d=(s=D.value)==null?void 0:s.inspection_point)==null?void 0:d.description,name:`point-${(n=D.value)==null?void 0:n.id}`,"inspection-id":E.inspection.id,"point-id":(v=D.value)==null?void 0:v.inspection_point_id,settings:((r=D.value)==null?void 0:r.settings)||{},options:((T=(C=D.value)==null?void 0:C.settings)==null?void 0:T.radios)||[],"selected-Point":D.value,"selected-value":le.value,"images-value":g(f).images[(z=D.value)==null?void 0:z.inspection_point_id],"notes-value":re.value,point:D.value,"existing-data":cn((O=D.value)==null?void 0:O.inspection_point_id),"onUpdate:selectedValue":e[20]||(e[20]=o=>le.value=o),"onUpdate:notesValue":e[21]||(e[21]=o=>re.value=o),"onUpdate:imagesValue":xn,onSave:yn,onClose:it,onHapus:Lt},null,8,["show","title","subtitle","name","inspection-id","point-id","settings","options","selected-Point","selected-value","images-value","notes-value","point","existing-data"])):I("",!0),qe.value?(x(),y("div",bs,e[44]||(e[44]=[i("p",{class:"text-sm"},"Tekan sekali lagi untuk keluar dari inspeksi",-1),i("p",{class:"text-xs text-gray-300 mt-1"},"Data inspeksi telah disimpan secara lokal",-1)]))):I("",!0),tt.value?(x(),y("div",{key:4,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",onClick:nt},[i("div",{class:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",onClick:e[29]||(e[29]=Kt(()=>{},["stop"]))},[i("div",{class:"flex items-center justify-between p-4 border-b"},[e[46]||(e[46]=i("h3",{class:"text-lg font-semibold text-gray-900"},"Pengaturan Inspeksi",-1)),i("button",{onClick:nt,class:"text-gray-400 hover:text-gray-600 transition-colors"},e[45]||(e[45]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),i("div",ks,[i("div",Cs,[e[47]||(e[47]=i("div",null,[i("label",{class:"text-sm font-medium text-gray-700"},"Swipe Gesture"),i("p",{class:"text-xs text-gray-500"},"Aktifkan navigasi dengan geser")],-1)),i("button",{onClick:gn,type:"button",class:j(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",B.value?"bg-indigo-600":"bg-gray-200"]),role:"switch","aria-checked":B.value},[i("span",{"aria-hidden":"true",class:j(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",B.value?"translate-x-5":"translate-x-0"])},null,2)],10,Ss)]),i("div",Is,[e[49]||(e[49]=i("label",{class:"text-sm font-medium text-gray-700"},"Sumber Gambar",-1)),J(i("select",{"onUpdate:modelValue":e[22]||(e[22]=o=>ee.value=o),onChange:fn,class:"w-full text-sm border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},e[48]||(e[48]=[i("option",{value:"all"},"Tanya",-1),i("option",{value:"camera"},"Kamera",-1),i("option",{value:"gallery"},"Galeri",-1)]),544),[[rt,ee.value]])]),i("div",Ms,[e[51]||(e[51]=i("label",{class:"text-sm font-medium text-gray-700"},"Kualitas Kamera",-1)),J(i("select",{"onUpdate:modelValue":e[23]||(e[23]=o=>G.value=o),class:"w-full text-sm border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},e[50]||(e[50]=[On('<option value="HP_Native" data-v-4c37ad2d>Kamera HP</option><option value="HD_Std" data-v-4c37ad2d>HD Std</option><option value="4K" data-v-4c37ad2d>4K Rtc</option><option value="HD" data-v-4c37ad2d>HD Rtc</option><option value="SD" data-v-4c37ad2d>SD Rtc</option>',5)]),512),[[rt,G.value]])]),i("div",Ds,[e[54]||(e[54]=i("label",{class:"text-sm font-medium text-gray-700"},"Mode Menu",-1)),i("div",Ls,[i("label",Ts,[J(i("input",{type:"radio","onUpdate:modelValue":e[24]||(e[24]=o=>A.value=o),value:"horizontal",class:"text-indigo-600 focus:ring-indigo-500"},null,512),[[Ke,A.value]]),e[52]||(e[52]=i("span",{class:"ml-2 text-sm text-gray-700"},"Scroll samping",-1))]),i("label",Ps,[J(i("input",{type:"radio","onUpdate:modelValue":e[25]||(e[25]=o=>A.value=o),value:"vertical",class:"text-indigo-600 focus:ring-indigo-500"},null,512),[[Ke,A.value]]),e[53]||(e[53]=i("span",{class:"ml-2 text-sm text-gray-700"},"Menu Ngambang",-1))])])]),A.value==="horizontal"?(x(),y("div",Vs,[e[57]||(e[57]=i("label",{class:"text-sm font-medium text-gray-700"},"Posisi Menu",-1)),i("div",Es,[i("label",As,[J(i("input",{type:"radio","onUpdate:modelValue":e[26]||(e[26]=o=>L.value=o),value:"top",class:"text-indigo-600 focus:ring-indigo-500"},null,512),[[Ke,L.value]]),e[55]||(e[55]=i("span",{class:"ml-2 text-sm text-gray-700"},"Atas",-1))]),i("label",Os,[J(i("input",{type:"radio","onUpdate:modelValue":e[27]||(e[27]=o=>L.value=o),value:"bottom",class:"text-indigo-600 focus:ring-indigo-500"},null,512),[[Ke,L.value]]),e[56]||(e[56]=i("span",{class:"ml-2 text-sm text-gray-700"},"Bawah",-1))])])])):I("",!0),A.value==="vertical"?(x(),y("div",Fs,[e[59]||(e[59]=i("label",{class:"text-sm font-medium text-gray-700"},"Posisi Menu Vertikal",-1)),J(i("select",{"onUpdate:modelValue":e[28]||(e[28]=o=>L.value=o),class:"w-full text-sm border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},e[58]||(e[58]=[i("option",{value:"top-right"},"Atas Kanan",-1),i("option",{value:"top-left"},"Atas Kiri",-1),i("option",{value:"bottom-right"},"Bawah Kanan",-1),i("option",{value:"bottom-left"},"Bawah Kiri",-1)]),512),[[rt,L.value]])])):I("",!0)]),i("div",{class:"flex justify-end p-4 border-t bg-gray-50"},[i("button",{onClick:nt,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"}," Tutup ")])])])):I("",!0)],2)])}}},Js=Un(js,[["__scopeId","data-v-4c37ad2d"]]);export{Js as default};
