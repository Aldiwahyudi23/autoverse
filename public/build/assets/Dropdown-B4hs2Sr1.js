import{x as He,p as ze,r as u,q as V,G as ge,g as Re,E as We,H as ve,j as qe,o as s,w as Ye,k as Oe,d as t,u as v,v as Ze,c as r,b as m,t as d,z as f,A as N,F as _,m as B,I as T,n as me,J as Qe,f as Xe,C as ea,y as oe}from"./vendor-g77w9U1W.js";import{A as aa}from"./AppLayout-BuR3TLNh.js";import{_ as ta}from"./app-BGZBwQRK.js";const oa={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},sa={class:"space-y-6 bg-white rounded-xl shadow-md p-6"},la={key:0,class:"mb-4 text-sm text-red-600 bg-red-100 p-3 rounded-md"},ra={class:"mb-6"},na={class:"flex items-center space-x-2"},ia=["disabled"],ua=["disabled"],da={key:0,class:"mt-2 text-sm text-red-600"},ca={key:1,class:"mt-2 text-sm text-green-600"},ga={key:2,class:"mt-2 text-sm text-yellow-600"},va={class:"mb-6"},ma={class:"mb-4"},pa=["disabled"],fa=["value"],ba={class:"mb-4"},ya=["disabled"],ha=["value"],ka={class:"mb-4"},xa=["disabled"],wa=["value"],_a={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},Ba=["disabled"],Ca=["value"],Ma=["disabled"],Ta=["value"],Pa={class:"mb-4"},Sa={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},$a=["value","disabled"],Aa={class:"flex w-full items-center justify-between"},ja={class:"flex items-center"},Da={class:"text-sm"},Ka={class:"font-medium text-gray-900"},Ia={class:"shrink-0 text-indigo-600"},Va={class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none"},Ua={key:0,cx:"12",cy:"12",r:"6",fill:"currentColor"},Ea={class:"mb-4"},La=["disabled"],Na=["value"],Ga={class:"mb-4"},Ja=["disabled"],Fa=["value"],Ha={key:0,class:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg"},za={class:"text-green-700"},Ra={key:1,class:"mt-2 text-sm text-gray-500 flex items-center"},Wa={class:"mb-6"},qa=["value"],Ya={class:"mb-6 flex items-center justify-between"},Oa={class:"relative inline-flex items-center cursor-pointer"},Za=["disabled"],Qa={key:1,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Xa={key:0,class:"mb-6"},et=["value"],at={class:"mt-6 flex justify-end"},tt=["disabled"],ot={key:2,class:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200"},st={key:0,class:"mb-4"},lt=["innerHTML"],rt={key:1},nt={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"},it=["onClick"],ut=["src","alt"],dt={key:0,class:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center p-2"},ct={class:"text-white text-xs text-center"},gt={key:2,class:"text-center py-4 text-gray-500 text-sm"},vt={class:"relative max-w-4xl max-h-full w-full h-full flex items-center justify-center"},mt=["src","alt"],pt={key:2,class:"absolute bottom-4 left-1/2 transform -translate-x-1/2 text-white bg-black bg-opacity-50 px-3 py-1 rounded-full text-sm"},ft={key:3,class:"absolute bottom-4 left-4 text-white bg-black bg-opacity-50 px-3 py-1 rounded text-sm max-w-md"},bt={__name:"Dropdown",props:{CarDetail:Array,Category:Array,team:Array,inspection:Array,activeInspections:Boolean},setup(se){const F=se,l=He({plate_number:"",car_id:null,car_name:"",category_id:"",is_scheduled:!1,scheduled_at_date:null,scheduled_at_time:null,inspector_id:null}),H=ze(),z=H.props.global.user,pe=H.props.global.region,P=H.props.global.has_roles,le=o=>(o/1e3).toFixed(1)+"L",b=u(""),S=u(""),K=u(""),U=u(""),I=u(""),p=u(""),h=u(""),w=u(""),x=u(""),$=u(""),E=u(""),i=u(null),re=u([]),R=u([]),W=u([]),q=u([]),Y=u([]),O=u([]),Z=u([]),Q=u([]),c=u({brand:!1,model:!1,type:!1,capacity:!1,year:!1,transmission:!1,fuel:!1,period:!1}),fe=V(()=>Object.values(c.value).some(o=>o)),y=u([]),j=u(""),A=u(!0),G=u(""),J=u(!1),C=u(0),ne=V(()=>F.activeInspections),be=V(()=>{const o=b.value.trim().length>=1,e=S.value.trim().length>=1;return!(!(o&&e)||!l.plate_number.trim()||!l.category_id||!i.value||l.is_scheduled&&(!l.scheduled_at_date||!l.scheduled_at_time)||(P.includes("Admin")||P.includes("coordinator"))&&!l.inspector_id)}),ye=V(()=>l.is_scheduled?"Buat Jadwal":"Mulai Inspeksi"),he=V(()=>{const o=F.team.filter(a=>a.status==="active"),e=P.includes("Admin"),n=P.includes("coordinator");return e?o:n?o.filter(a=>a.region_id===pe.id):[]}),X=o=>({AT:"Automatic",MT:"Manual",CVT:"CVT",AMT:"AMT"})[o]||o,M=async(o,e={})=>{const n=new AbortController,a=setTimeout(()=>n.abort(),5e3);try{const g=await fetch(o,{...e,signal:n.signal});return clearTimeout(a),g}catch(g){throw clearTimeout(a),g}},ke=async()=>{c.value.brand=!0;try{const o=await M("/api/car-brands");re.value=await o.json()}catch(o){console.error("Error fetching brands:",o)}finally{c.value.brand=!1}},xe=async o=>{if(o){c.value.model=!0;try{const e=await M(`/api/car-models/${o}`);R.value=await e.json()}catch(e){console.error("Error fetching models:",e)}finally{c.value.model=!1}}},we=async o=>{if(o){c.value.type=!0;try{const e=await M(`/api/car-types/${o}`);W.value=await e.json()}catch(e){console.error("Error fetching types:",e)}finally{c.value.type=!1}}},_e=async o=>{if(o){c.value.capacity=!0;try{const e=await M(`/api/car-capacities/${o}`);q.value=await e.json()}catch(e){console.error("Error fetching capacities:",e)}finally{c.value.capacity=!1}}},Be=async(o,e)=>{if(!(!o||!e)){c.value.year=!0;try{const n=await M(`/api/car-years/${o}/${e}`);Y.value=await n.json()}catch(n){console.error("Error fetching years:",n)}finally{c.value.year=!1}}},Ce=async(o,e,n)=>{if(!(!o||!e||!n)){c.value.transmission=!0;try{const a=await M(`/api/car-transmissions/${o}/${e}/${n}`);O.value=await a.json()}catch(a){console.error("Error fetching transmissions:",a)}finally{c.value.transmission=!1}}},Me=async(o,e,n,a)=>{if(!(!o||!e||!n||!a)){c.value.fuel=!0;try{const g=await M(`/api/car-fuels/${o}/${e}/${n}/${a}`);Z.value=await g.json()}catch(g){console.error("Error fetching fuels:",g)}finally{c.value.fuel=!1}}},Te=async(o,e,n,a,g)=>{if(!(!o||!e||!n||!a||!g)){c.value.period=!0;try{const k=await M(`/api/car-periods/${o}/${e}/${n}/${a}/${g}`);Q.value=await k.json()}catch(k){console.error("Error fetching periods:",k)}finally{c.value.period=!1}}},Pe=async(o,e,n,a,g,k)=>{if(!(!o||!e||!n||!a||!g||!k))try{const L=await M(`/api/car-details/${o}/${e}/${n}/${a}/${g}/${k}`);i.value=await L.json(),i.value&&(l.car_id=i.value.id,l.car_name=`${i.value.brand.name} ${i.value.model.name} ${i.value.type.name} ${le(i.value.cc)} ${X(i.value.transmission)} ${i.value.fuel_type} ${i.value.year} (${i.value.production_period})`,await Ne(i.value.id))}catch(L){console.error("Error fetching car detail:",L)}},Se=()=>{D(["model","type","capacity","year","transmission","fuel","period"]),U.value&&xe(U.value)},$e=()=>{D(["type","capacity","year","transmission","fuel","period"]),I.value&&we(I.value)},Ae=()=>{D(["capacity","year","transmission","fuel","period"]),p.value&&_e(p.value)},je=()=>{D(["year","transmission","fuel","period"]),p.value&&h.value&&Be(p.value,h.value)},De=()=>{D(["transmission","fuel","period"]),p.value&&h.value&&w.value&&Ce(p.value,h.value,w.value)},Ke=()=>{D(["fuel","period"]),p.value&&h.value&&w.value&&x.value&&Me(p.value,h.value,w.value,x.value)},Ie=()=>{D(["period"]),p.value&&h.value&&w.value&&x.value&&$.value&&Te(p.value,h.value,w.value,x.value,$.value)},Ve=()=>{i.value=null,p.value&&h.value&&w.value&&x.value&&$.value&&E.value&&Pe(p.value,h.value,w.value,x.value,$.value,E.value)},D=o=>{o.forEach(e=>{e==="model"&&(I.value=""),e==="type"&&(p.value=""),e==="capacity"&&(h.value=""),e==="year"&&(w.value=""),e==="transmission"&&(x.value=""),e==="fuel"&&($.value=""),e==="period"&&(E.value="")}),i.value=null,o.includes("model")&&(R.value=[]),o.includes("type")&&(W.value=[]),o.includes("capacity")&&(q.value=[]),o.includes("year")&&(Y.value=[]),o.includes("transmission")&&(O.value=[]),o.includes("fuel")&&(Z.value=[]),o.includes("period")&&(Q.value=[])},Ue=()=>{l.plate_number=`${b.value}${S.value}${K.value}`.toUpperCase()},ee={BL:"Aceh",BB:"Tapanuli (Sumatera Utara)",BK:"Medan, Deli Serdang, Binjai (Sumatera Utara)",BA:"Sumatera Barat",BM:"Riau",BH:"Jambi",BD:"Bengkulu",BG:"Sumatera Selatan",BN:"Bangka Belitung",BE:"Lampung",A:"Banten (Serang, Pandeglang, Cilegon, Lebak)",B:"Jakarta, Depok, Tangerang, Bekasi (Jadetabek)",D:"Bandung, Cimahi",E:"Cirebon, Indramayu, Majalengka, Kuningan",F:"Bogor, Sukabumi, Cianjur",T:"Karawang, Purwakarta, Subang, Bekasi Kabupaten, sebagian Cikampek",Z:"Garut, Tasikmalaya, Ciamis, Banjar, Sumedang",G:"Pekalongan, Tegal, Brebes, Pemalang, Batang",H:"Semarang, Kendal, Salatiga, Demak",K:"Pati, Kudus, Rembang, Blora, Jepara",R:"Banyumas, Cilacap, Purbalingga, Banjarnegara",AA:"Magelang, Temanggung, Purworejo, Wonosobo",AB:"DI Yogyakarta (Sleman, Bantul, Gunungkidul, Kulonprogo, Kota Jogja)",AD:"Surakarta (Solo), Sragen, Boyolali, Klaten, Wonogiri, Sukoharjo, Karanganyar",L:"Surabaya",M:"Madura (Bangkalan, Sampang, Pamekasan, Sumenep)",N:"Malang, Pasuruan, Probolinggo, Lumajang, Batu",P:"Jember, Banyuwangi, Bondowoso, Situbondo",S:"Bojonegoro, Lamongan, Tuban, Mojokerto, Jombang",W:"Sidoarjo, Gresik",AE:"Madiun, Magetan, Ngawi, Ponorogo, Pacitan",AG:"Kediri, Blitar, Tulungagung, Trenggalek",DK:"Bali",DR:"Lombok (NTB)",EA:"Sumbawa, Dompu, Bima (NTB)",DH:"Nusa Tenggara Timur (Kupang, Timor)",EB:"Flores, Lembata",ED:"Sumba",DA:"Kalimantan Selatan (Banjarmasin, Banjarbaru, dll.)",KB:"Kalimantan Barat (Pontianak, Singkawang, dll.)",KH:"Kalimantan Tengah (Palangkaraya, Sampit, dll.)",KT:"Kalimantan Timur (Balikpapan, Samarinda, Bontang, dll.)",KU:"Kalimantan Utara (Tarakan, Nunukan, Malinau, Tana Tidung, Bulungan)",DB:"Sulawesi Utara (Manado, Bitung, Minahasa, dll.)",DL:"Sangihe, Talaud (Sulut)",DM:"Gorontalo",DN:"Sulawesi Tengah (Palu, Poso, Banggai, dll.)",DT:"Sulawesi Tenggara (Kendari, Bau-bau, Kolaka, dll.)",DD:"Sulawesi Selatan (Makassar, Gowa, Bone, dll.)",DC:"Polewali Mandar, Majene, Mamasa (Sulbar)",DW:"Mamuju, Pasangkayu, Mamuju Tengah (Sulbar)",DE:"Maluku (Ambon, Maluku Tengah, dll.)",DG:"Maluku Utara (Ternate, Halmahera, dll.)",PA:"Papua (Jayapura, Merauke, dll.)",PB:"Papua Barat (Manokwari, Sorong, Fakfak, dll.)"};ge([b,S,K],()=>{Ue()},{immediate:!0});const ae=o=>{o==="area"?b.value=b.value.toUpperCase().replace(/[^A-Z]/g,""):o==="number"?S.value=S.value.replace(/[^0-9]/g,""):o==="suffix"&&(K.value=K.value.toUpperCase().replace(/[^A-Z]/g,"")),Ee()},Ee=()=>{b.value&&ee[b.value]?(j.value=`âœ… ${b.value} = ${ee[b.value]}`,A.value=!1):b.value&&!ee[b.value]?(j.value=`ðŸš« Kode wilayah "${b.value}" tidak valid`,A.value=!0):(j.value="âš  Masukkan kode wilayah (contoh: D, B, DK)",A.value=!0)},Le=V(()=>b.value.trim().length>0&&S.value.trim().length>0),Ne=async o=>{try{const e=await M(`/api/cars/${o}/images`);if(e.ok){const n=await e.json();y.value=Array.isArray(n)?n:[]}else y.value=[]}catch(e){console.error("Error loading car images:",e),y.value=[]}},ie=o=>o!=null&&o.file_path?`/storage/${o.file_path}`:"",Ge=o=>{C.value=o,J.value=!0,document.body.style.overflow="hidden"},te=()=>{J.value=!1,document.body.style.overflow=""},ue=()=>{C.value=(C.value+1)%y.value.length},de=()=>{C.value=(C.value-1+y.value.length)%y.value.length},ce=o=>{if(J.value)switch(o.key){case"Escape":te();break;case"ArrowRight":ue();break;case"ArrowLeft":de();break}};Re(()=>{window.addEventListener("keydown",ce),ke()}),We(()=>{window.removeEventListener("keydown",ce)}),ve(()=>{P.includes("Admin")||P.includes("coordinator")||(l.inspector_id=(z==null?void 0:z.id)||null)}),ve(()=>{ne.value&&(l.is_scheduled=!0)}),ge(()=>l.plate_number,o=>{if(j.value="",A.value=!1,G.value="",o.length>=6){const e=F.inspection.filter(n=>n.plate_number===o);if(e.length>0){const n=["draft","in_progress","pending","pending_review","revision"],a=e.find(g=>n.includes(g.status));if(a)A.value=!0,j.value=`Nomor plat ini sedang dalam proses inspeksi dengan status: ${a.status.replace(/_/g," ").toUpperCase()}. Silakan selesaikan inspeksi tersebut terlebih dahulu.`;else{const g=e.filter(k=>["approved","rejected","completed","cancelled"].includes(k.status));if(g.length>0){g.sort((L,Fe)=>new Date(Fe.created_at)-new Date(L.created_at));const k=g[0];l.car_id=k.car_id,l.car_name=k.car_name,carSearchQuery.value=k.car_name,selectCar(k.car),G.value=`Nomor plat ini sudah pernah diperiksa ${g.length} kali sebelumnya.`}}}}});const Je=()=>{l.plate_number,l.car_id,l.car_name,l.category_id,l.is_scheduled,l.inspector_id,l.is_scheduled&&`${l.scheduled_at_date}${l.scheduled_at_time}`,l.post(route("inspections.store"),{preserveScroll:!0,onSuccess:o=>{},onError:()=>{}})};return(o,e)=>(s(),qe(aa,{title:"Buat Inspeksi Baru"},{default:Ye(()=>{var n;return[Oe(v(Ze),{title:"Inspek Baru"}),t("div",oa,[t("div",sa,[e[53]||(e[53]=t("div",{class:"mb-4"},[t("h3",{class:"text-xl md:text-3xl font-bold text-gray-900 mb-6 text-center"},"Buat Inspeksi Baru"),t("p",{class:"text-gray-600"},"Isi detail kendaraan dan jadwal untuk memulai inspeksi.")],-1)),v(l).errors.form_error?(s(),r("div",la,d(v(l).errors.form_error),1)):m("",!0),t("div",ra,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Nomor Plat Kendaraan ",-1)),t("div",na,[f(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>b.value=a),type:"text",placeholder:"D",class:"w-1/4 rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm text-center transition duration-150",onInput:e[1]||(e[1]=a=>ae("area")),maxlength:"2"},null,544),[[N,b.value]]),f(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>S.value=a),type:"tel",pattern:"[0-9]*",placeholder:"1234",class:"w-2/4 rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm text-center transition duration-150",onInput:e[3]||(e[3]=a=>ae("number")),disabled:A.value,maxlength:"4"},null,40,ia),[[N,S.value]]),f(t("input",{"onUpdate:modelValue":e[4]||(e[4]=a=>K.value=a),type:"text",placeholder:"ABC",class:"w-1/4 rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm text-center transition duration-150",onInput:e[5]||(e[5]=a=>ae("suffix")),disabled:A.value,maxlength:"3"},null,40,ua),[[N,K.value]])]),j.value?(s(),r("div",da,d(j.value),1)):m("",!0),G.value?(s(),r("div",ca,d(G.value),1)):m("",!0),Le.value?m("",!0):(s(),r("div",ga," âš  Kolom kode wilayah dan nomor plat harus diisi "))]),t("div",va,[e[39]||(e[39]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Pilih Mobil ",-1)),t("div",ma,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Brand",-1)),f(t("select",{"onUpdate:modelValue":e[6]||(e[6]=a=>U.value=a),onChange:Se,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",disabled:c.value.brand},[e[21]||(e[21]=t("option",{value:""},"Pilih Brand",-1)),(s(!0),r(_,null,B(re.value,a=>(s(),r("option",{key:a.id,value:a.id},d(a.name),9,fa))),128))],40,pa),[[T,U.value]])]),t("div",ba,[e[24]||(e[24]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Model",-1)),f(t("select",{"onUpdate:modelValue":e[7]||(e[7]=a=>I.value=a),onChange:$e,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",disabled:!U.value||c.value.model},[e[23]||(e[23]=t("option",{value:""},"Pilih Model",-1)),(s(!0),r(_,null,B(R.value,a=>(s(),r("option",{key:a.id,value:a.id},d(a.name),9,ha))),128))],40,ya),[[T,I.value]])]),t("div",ka,[e[26]||(e[26]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Type/Varian",-1)),f(t("select",{"onUpdate:modelValue":e[8]||(e[8]=a=>p.value=a),onChange:Ae,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",disabled:!I.value||c.value.type},[e[25]||(e[25]=t("option",{value:""},"Pilih Type",-1)),(s(!0),r(_,null,B(W.value,a=>(s(),r("option",{key:a.id,value:a.id},d(a.name),9,wa))),128))],40,xa),[[T,p.value]])]),t("div",_a,[t("div",null,[e[28]||(e[28]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Kapasitas Mesin",-1)),f(t("select",{"onUpdate:modelValue":e[9]||(e[9]=a=>h.value=a),onChange:je,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",disabled:!p.value||c.value.capacity},[e[27]||(e[27]=t("option",{value:""},"Pilih Kapasitas",-1)),(s(!0),r(_,null,B(q.value,a=>(s(),r("option",{key:a.cc,value:a.cc},d(a.display),9,Ca))),128))],40,Ba),[[T,h.value]])]),t("div",null,[e[30]||(e[30]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tahun",-1)),f(t("select",{"onUpdate:modelValue":e[10]||(e[10]=a=>w.value=a),onChange:De,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",disabled:!h.value||c.value.year},[e[29]||(e[29]=t("option",{value:""},"Pilih Tahun",-1)),(s(!0),r(_,null,B(Y.value,a=>(s(),r("option",{key:a.year,value:a.year},d(a.year),9,Ta))),128))],40,Ma),[[T,w.value]])])]),t("div",Pa,[e[32]||(e[32]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Transmisi",-1)),t("div",Sa,[(s(!0),r(_,null,B(O.value,a=>(s(),r("label",{key:a.transmission,class:me(["relative flex cursor-pointer rounded-lg border-2 border-gray-200 p-3 focus:outline-none transition-all duration-200 hover:border-indigo-300",{"border-indigo-500 bg-indigo-50":x.value===a.transmission,"border-gray-200":x.value!==a.transmission}])},[f(t("input",{type:"radio","onUpdate:modelValue":e[11]||(e[11]=g=>x.value=g),value:a.transmission,onChange:Ke,class:"sr-only",disabled:!w.value||c.value.transmission},null,40,$a),[[Qe,x.value]]),t("div",Aa,[t("div",ja,[t("div",Da,[t("div",Ka,d(X(a.transmission)),1)])]),t("div",Ia,[(s(),r("svg",Va,[e[31]||(e[31]=t("circle",{cx:"12",cy:"12",r:"12",fill:"#fff",stroke:"currentColor","stroke-width":"2"},null,-1)),x.value===a.transmission?(s(),r("circle",Ua)):m("",!0)]))])])],2))),128))])]),t("div",Ea,[e[34]||(e[34]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Bahan Bakar",-1)),f(t("select",{"onUpdate:modelValue":e[12]||(e[12]=a=>$.value=a),onChange:Ie,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",disabled:!x.value||c.value.fuel},[e[33]||(e[33]=t("option",{value:""},"Pilih Bahan Bakar",-1)),(s(!0),r(_,null,B(Z.value,a=>(s(),r("option",{key:a.fuel_type,value:a.fuel_type},d(a.fuel_type),9,Na))),128))],40,La),[[T,$.value]])]),t("div",Ga,[e[36]||(e[36]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Periode Produksi",-1)),f(t("select",{"onUpdate:modelValue":e[13]||(e[13]=a=>E.value=a),onChange:Ve,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",disabled:!$.value||c.value.period},[e[35]||(e[35]=t("option",{value:""},"Pilih Periode Produksi",-1)),(s(!0),r(_,null,B(Q.value,a=>(s(),r("option",{key:a.production_period,value:a.production_period},d(a.production_period),9,Fa))),128))],40,Ja),[[T,E.value]])]),i.value?(s(),r("div",Ha,[e[37]||(e[37]=t("h4",{class:"font-medium text-green-800 mb-2"},"Mobil Terpilih:",-1)),t("p",za,d(i.value.brand.name)+" "+d(i.value.model.name)+" "+d(i.value.type.name)+" "+d(le(i.value.cc))+" "+d(X(i.value.transmission))+" "+d(i.value.fuel_type)+" "+d(i.value.year)+" ("+d(i.value.production_period)+")",1)])):m("",!0),fe.value?(s(),r("div",Ra,e[38]||(e[38]=[t("svg",{class:"animate-spin h-4 w-4 mr-2 text-indigo-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),Xe(" Memuat data... ")]))):m("",!0)]),t("div",Wa,[e[41]||(e[41]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2",for:"category"}," Kategori Inspeksi ",-1)),f(t("select",{id:"category","onUpdate:modelValue":e[14]||(e[14]=a=>v(l).category_id=a),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",required:""},[e[40]||(e[40]=t("option",{value:"",disabled:""},"Pilih Kategori",-1)),(s(!0),r(_,null,B(se.Category,a=>(s(),r("option",{key:a.id,value:a.id},d(a.name),9,qa))),128))],512),[[T,v(l).category_id]])]),t("div",Ya,[e[43]||(e[43]=t("label",{for:"schedule-toggle",class:"text-sm font-medium text-gray-700"},"Jadwalkan Inspeksi?",-1)),t("label",Oa,[f(t("input",{type:"checkbox","onUpdate:modelValue":e[15]||(e[15]=a=>v(l).is_scheduled=a),id:"schedule-toggle",class:"sr-only peer",disabled:ne.value},null,8,Za),[[ea,v(l).is_scheduled]]),e[42]||(e[42]=t("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-700"},null,-1))])]),v(l).is_scheduled?(s(),r("div",Qa,[t("div",null,[e[44]||(e[44]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2",for:"schedule-date"}," Tanggal ",-1)),f(t("input",{type:"date",id:"schedule-date","onUpdate:modelValue":e[16]||(e[16]=a=>v(l).scheduled_at_date=a),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",required:""},null,512),[[N,v(l).scheduled_at_date]])]),t("div",null,[e[45]||(e[45]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2",for:"schedule-time"}," Waktu ",-1)),f(t("input",{type:"time",id:"schedule-time","onUpdate:modelValue":e[17]||(e[17]=a=>v(l).scheduled_at_time=a),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",required:""},null,512),[[N,v(l).scheduled_at_time]])]),v(P).includes("Admin")||v(P).includes("coordinator")?(s(),r("div",Xa,[e[47]||(e[47]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2",for:"inspector"}," Pilih Inspektor ",-1)),f(t("select",{id:"inspector","onUpdate:modelValue":e[18]||(e[18]=a=>v(l).inspector_id=a),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",required:""},[e[46]||(e[46]=t("option",{value:"",disabled:""},"Pilih Inspektor",-1)),(s(!0),r(_,null,B(he.value,a=>(s(),r("option",{key:a.id,value:a.user.id},d(a.user.name),9,et))),128))],512),[[T,v(l).inspector_id]])])):m("",!0)])):m("",!0),t("div",at,[t("button",{onClick:Je,disabled:!be.value||v(l).processing||A.value,class:me({"px-6 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed":!0,"bg-gradient-to-r from-indigo-700 to-sky-600  border border-transparent text-white hover:bg-blue-700":!v(l).is_scheduled,"bg-gradient-to-r from-green-700 to-indigo-600  border-transparent text-white hover:bg-green-700":v(l).is_scheduled})},d(ye.value),11,tt)]),v(l).car_id&&i.value?(s(),r("div",ot,[i.value.description?(s(),r("div",st,[e[48]||(e[48]=t("h3",{class:"text-sm font-medium text-gray-700 mb-2"},"Deskripsi:",-1)),t("div",{class:"prose prose-sm max-w-none text-gray-600",innerHTML:i.value.description},null,8,lt)])):m("",!0),y.value.length>0?(s(),r("div",rt,[e[49]||(e[49]=t("h3",{class:"text-sm font-medium text-gray-700 mb-3"},"Gambar Mobil:",-1)),t("div",nt,[(s(!0),r(_,null,B(y.value,(a,g)=>(s(),r("div",{key:a.id||g,class:"relative group cursor-pointer",onClick:k=>Ge(g)},[t("img",{src:ie(a),alt:a.name||"Car Image",class:"w-full h-24 object-cover rounded-lg border border-gray-200 transition-transform duration-200 group-hover:scale-105"},null,8,ut),a.note?(s(),r("div",dt,[t("p",ct,d(a.note),1)])):m("",!0)],8,it))),128))])])):(s(),r("div",gt," Tidak ada gambar tersedia untuk mobil ini "))])):m("",!0),J.value?(s(),r("div",{key:3,class:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",onClick:te},[t("div",vt,[t("button",{onClick:te,class:"absolute top-4 right-4 z-10 text-white bg-black bg-opacity-50 rounded-full p-2 hover:bg-opacity-70 transition-colors"},e[50]||(e[50]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),y.value.length>1?(s(),r("button",{key:0,onClick:oe(de,["stop"]),class:"absolute left-4 z-10 text-white bg-black bg-opacity-50 rounded-full p-3 hover:bg-opacity-70 transition-colors"},e[51]||(e[51]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)]))):m("",!0),y.value.length>1?(s(),r("button",{key:1,onClick:oe(ue,["stop"]),class:"absolute right-4 z-10 text-white bg-black bg-opacity-50 rounded-full p-3 hover:bg-opacity-70 transition-colors"},e[52]||(e[52]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))):m("",!0),t("img",{src:ie(y.value[C.value]),alt:"Car Image "+(C.value+1),class:"max-w-full max-h-full object-contain",onClick:e[19]||(e[19]=oe(()=>{},["stop"]))},null,8,mt),y.value.length>1?(s(),r("div",pt,d(C.value+1)+" / "+d(y.value.length),1)):m("",!0),(n=y.value[C.value])!=null&&n.note?(s(),r("div",ft,d(y.value[C.value].note),1)):m("",!0)])])):m("",!0)])])]}),_:1}))}},xt=ta(bt,[["__scopeId","data-v-edf45343"]]);export{xt as default};
