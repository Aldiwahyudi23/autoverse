import{x as N,r as v,j as P,o as m,w as u,k as t,u as s,d as o,f as n,n as z,c as p,b as h,z as k,Q as x,N as I,y as w,S as F,W as L}from"./vendor-g77w9U1W.js";import{_ as U}from"./ActionMessage-C9w22vKV.js";import{_ as A}from"./FormSection-lLmZmYms.js";import{_ as f}from"./InputError-nKXwU56H.js";import{_ as g}from"./InputLabel-BvO_QVNR.js";import{_ as E}from"./PrimaryButton-CrKKsBb9.js";import{_ as V}from"./SecondaryButton-DsbfI-Qu.js";import{_ as C}from"./TextInput-BPKZukLD.js";import{_ as H}from"./InputNumber-sdp6_31d.js";import{_ as T}from"./app-BGMV3ZMb.js";import"./SectionTitle-C8U81dQE.js";const q={key:0,class:"col-span-6 sm:col-span-4"},D={class:"mt-2 flex items-center space-x-4"},R=["src","alt"],W={class:"mt-2"},K={class:"mt-4 flex flex-wrap gap-2"},O={class:"col-span-6 sm:col-span-4"},Q={class:"col-span-6 sm:col-span-4"},G={class:"col-span-6 sm:col-span-4"},J={key:0,class:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg"},X={class:"text-sm text-yellow-700"},Y={class:"mt-2 p-2 bg-green-50 border border-green-200 rounded text-sm text-green-700"},Z={key:0,class:"flex items-center"},ee={key:1},oe={__name:"UpdateProfileInformationForm",props:{user:Object},setup(d){const b=d,r=N({_method:"PUT",name:b.user.name,email:b.user.email,numberPhone:b.user.numberPhone,photo:null}),_=v(null),c=v(null),a=v(null),S=()=>{a.value&&(r.photo=a.value.files[0]),r.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>y()})},B=()=>{_.value=!0},$=()=>{a.value.click()},j=()=>{const l=a.value.files[0];if(!l)return;const e=new FileReader;e.onload=i=>{c.value=i.target.result},e.readAsDataURL(l)},M=()=>{L.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{c.value=null,y()}})},y=()=>{var l;(l=a.value)!=null&&l.value&&(a.value.value=null)};return(l,e)=>(m(),P(A,{onSubmitted:S},{form:u(()=>[l.$page.props.jetstream.managesProfilePhotos?(m(),p("div",q,[o("input",{id:"photo",ref_key:"photoInput",ref:a,type:"file",class:"hidden",onChange:j},null,544),t(g,{for:"photo",value:"Foto Profil",class:"block text-sm font-medium text-gray-700 mb-2"}),k(o("div",D,[o("img",{src:d.user.profile_photo_url,alt:d.user.name,class:"rounded-full size-20 object-cover border-2 border-gray-300"},null,8,R)],512),[[x,!c.value]]),k(o("div",W,[o("span",{class:"block rounded-full size-20 bg-cover bg-no-repeat bg-center border-2 border-gray-300",style:I("background-image: url('"+c.value+"');")},null,4)],512),[[x,c.value]]),o("div",K,[t(V,{type:"button",onClick:w($,["prevent"]),class:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"},{default:u(()=>e[3]||(e[3]=[n(" Pilih Foto Baru ")])),_:1,__:[3]}),d.user.profile_photo_path?(m(),P(V,{key:0,type:"button",onClick:w(M,["prevent"]),class:"px-4 py-2 bg-red-100 border border-red-300 rounded-lg text-sm font-medium text-red-700 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors duration-200"},{default:u(()=>e[4]||(e[4]=[n(" Hapus Foto ")])),_:1,__:[4]})):h("",!0)]),t(f,{message:s(r).errors.photo,class:"mt-2 text-sm text-red-600"},null,8,["message"])])):h("",!0),o("div",O,[t(g,{for:"name",value:"Nama",class:"block text-sm font-medium text-gray-700 mb-2"}),t(C,{id:"name",modelValue:s(r).name,"onUpdate:modelValue":e[0]||(e[0]=i=>s(r).name=i),type:"text",class:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",required:"",autocomplete:"name",placeholder:"Masukkan nama lengkap"},null,8,["modelValue"]),t(f,{message:s(r).errors.name,class:"mt-2 text-sm text-red-600"},null,8,["message"])]),o("div",Q,[t(g,{for:"numberPhone",value:"No HP",class:"block text-sm font-medium text-gray-700 mb-2"}),t(H,{id:"numberPhone",modelValue:s(r).numberPhone,"onUpdate:modelValue":e[1]||(e[1]=i=>s(r).numberPhone=i),type:"text",class:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",required:"",autocomplete:"numberPhone",placeholder:"Masukkan No HP"},null,8,["modelValue"]),t(f,{message:s(r).errors.numberPhone,class:"mt-2 text-sm text-red-600"},null,8,["message"])]),o("div",G,[t(g,{for:"email",value:"Email",class:"block text-sm font-medium text-gray-700 mb-2"}),t(C,{id:"email",modelValue:s(r).email,"onUpdate:modelValue":e[2]||(e[2]=i=>s(r).email=i),type:"email",class:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",required:"",autocomplete:"email",placeholder:"email@example.com"},null,8,["modelValue"]),t(f,{message:s(r).errors.email,class:"mt-2 text-sm text-red-600"},null,8,["message"]),l.$page.props.jetstream.hasEmailVerification&&d.user.email_verified_at===null?(m(),p("div",J,[o("p",X,[e[6]||(e[6]=o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline-block mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1)),e[7]||(e[7]=n(" Alamat email Anda belum terverifikasi. ")),t(s(F),{href:l.route("verification.send"),method:"post",as:"button",class:"underline text-yellow-700 hover:text-yellow-800 font-medium ml-1 transition-colors duration-200",onClick:w(B,["prevent"])},{default:u(()=>e[5]||(e[5]=[n(" Klik di sini untuk mengirim ulang email verifikasi. ")])),_:1,__:[5]},8,["href"])]),k(o("div",Y,e[8]||(e[8]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline-block mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),n(" Tautan verifikasi baru telah dikirim ke alamat email Anda. ")]),512),[[x,_.value]])])):h("",!0)])]),actions:u(()=>[t(U,{on:s(r).recentlySuccessful,class:"me-3 text-sm text-green-600 font-medium"},{default:u(()=>e[9]||(e[9]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline-block mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),n(" Tersimpan. ")])),_:1,__:[9]},8,["on"]),t(E,{class:z(["px-6 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white","bg-gradient-to-r from-sky-600 to-blue-700 hover:from-sky-700 hover:to-blue-800","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","transition-all duration-200 transform hover:scale-105",s(r).processing?"opacity-50 cursor-not-allowed":""]),disabled:s(r).processing},{default:u(()=>[s(r).processing?(m(),p("span",Z,e[10]||(e[10]=[o("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),n(" Menyimpan... ")]))):(m(),p("span",ee,e[11]||(e[11]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline-block mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),n(" Simpan ")])))]),_:1},8,["class","disabled"])]),_:1}))}},pe=T(oe,[["__scopeId","data-v-8db6443f"]]);export{pe as default};
