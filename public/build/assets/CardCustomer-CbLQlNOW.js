import{a as D}from"./car-BsAu7UWU.js";import{r as B,q as L,c as r,o as l,d as e,b as f,k as M,f as C,u as T,t as d,n as W}from"./vendor-D9AtPSqO.js";const N={class:"flex justify-between items-center mb-3"},P={class:"text-sm font-medium text-gray-700 flex items-center"},R={key:0,class:"space-y-2"},S={class:"text-sm text-gray-800"},z={key:0,class:"flex items-center"},V=["href"],O={class:"grid grid-cols-2 gap-2 pt-2 border-t border-gray-200"},U={class:"border rounded-lg p-2 bg-white shadow-sm"},F={class:"flex items-center justify-between"},H={class:"text-sm font-semibold text-green-800"},K={class:"border rounded-lg p-2 bg-white shadow-sm"},q={class:"flex items-center justify-between"},E={class:"text-sm font-semibold text-blue-800"},J={key:1},G={key:2,class:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50"},Q={class:"bg-white p-6 rounded-lg shadow-xl w-96"},X={class:"flex justify-between items-center mb-4"},Y={class:"space-y-3"},Z={class:"text-sm text-gray-800"},ee={class:"text-sm text-gray-800"},te={class:"text-sm text-gray-800"},se={class:"mt-6 flex justify-end"},ie={__name:"CardCustomer",props:{customer:{type:Object,default:null},seller:{type:Object,default:null},inspection:{type:Object,default:null},userRole:{type:String,default:"Inspektor"}},emits:["edit"],setup(n,{emit:ne}){const s=n,b=B(!1),v=L(()=>s.customer!==null),$=a=>a?a.startsWith("62")?"0"+a.substring(2):a:"",_=()=>{var y,u,c,m,p,g,k,h,x;const a=s.userRole||"Inspektor",t=(y=s.inspection)!=null&&y.car?`${(u=s.inspection.car.brand)==null?void 0:u.name} ${(c=s.inspection.car.model)==null?void 0:c.name} ${(m=s.inspection.car.type)==null?void 0:m.name} ${(s.inspection.car.cc/1e3).toFixed(1)}L ${s.inspection.car.year}`:((p=s.inspection)==null?void 0:p.car_name)||"kendaraan",o=(g=s.inspection)!=null&&g.inspection_date?new Date(s.inspection.inspection_date).toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):"tanggal yang telah ditentukan",i=((k=s.seller)==null?void 0:k.inspection_address)||"lokasi yang telah disepakati";return`Hallo Bpk/Ibu ${((h=s.customer)==null?void 0:h.name)||""},

Saya ${a} dari AutoInspeksi. Ijin mengkonfirmasi apakah ini benar dengan A/n *${((x=s.customer)==null?void 0:x.name)||"Anda"}* yang mengajukan untuk pengecekan unit *${t}* pada ${o} di daerah ${i}.

Ijin mengkonfirmasi nanti di lokasi ketemu dengan siapa, dan untuk memastikan alamat sesuai boleh di kirim ulang sharelok-nya?

Terima kasih.`},I=()=>{var u,c,m,p,g,k,h,x,w;const a=s.userRole||"Inspektor",t=((u=s.customer)==null?void 0:u.name)||"customer",o=(c=s.inspection)!=null&&c.car?`${(m=s.inspection.car.brand)==null?void 0:m.name} ${(p=s.inspection.car.model)==null?void 0:p.name} ${(g=s.inspection.car.type)==null?void 0:g.name} ${(s.inspection.car.cc/1e3).toFixed(1)}L ${s.inspection.car.year}`:((k=s.inspection)==null?void 0:k.car_name)||"kendaraan",i=(h=s.inspection)!=null&&h.inspection_date?new Date(s.inspection.inspection_date).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):"jam yang telah ditentukan",y=((x=s.seller)==null?void 0:x.inspection_address)||"lokasi yang telah disepakati";return`Hallo Bpk/Ibu *${((w=s.seller)==null?void 0:w.unit_holder_name)||""}*,

Saya ${a} dari AutoInspeksi. Maaf mengganggu waktunya, kebetulan saya ada jadwal untuk pengecekan unit *${o}* di jam *${i}* di daerah ${y}.

Ijin konfirmasi apakah Bapak/Ibu sudah janjian dengan A/n *${t}* ? 
Jika memang benar, apakah unit dan dokumen sudah ada dan Untuk keakuratan alamat lokasi boleh di kirim ulang untuk titik-nya.

Terima kasih.`},j=()=>{var i;if(!((i=s.customer)!=null&&i.phone))return;const a=s.customer.phone.startsWith("62")?s.customer.phone:"62"+s.customer.phone.replace(/^0/,""),t=encodeURIComponent(_()),o=`https://wa.me/${a}?text=${t}`;window.open(o,"_blank","noopener,noreferrer")},A=()=>{var i;if(!((i=s.seller)!=null&&i.unit_holder_phone))return;const a=s.seller.unit_holder_phone.startsWith("62")?s.seller.unit_holder_phone:"62"+s.seller.unit_holder_phone.replace(/^0/,""),t=encodeURIComponent(I()),o=`https://wa.me/${a}?text=${t}`;window.open(o,"_blank","noopener,noreferrer")};return(a,t)=>(l(),r("div",{class:W(["mb-2 p-2 rounded border",{"bg-green-50 border-green-200":v.value,"bg-yellow-50 border-yellow-200":!v.value}])},[e("div",N,[e("h4",P,[M(T(D),{class:"h-4 w-4 mr-1"}),t[3]||(t[3]=C(" Customer & PIC "))])]),n.customer&&n.seller?(l(),r("div",R,[e("div",null,[t[4]||(t[4]=e("h5",{class:"text-xs font-medium text-gray-600 mb-1"},"Alamat Lokasi",-1)),e("p",S,d(n.seller.inspection_address),1)]),n.seller.link_maps?(l(),r("div",z,[e("a",{href:n.seller.link_maps,target:"_blank",class:"inline-flex items-center text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded hover:bg-blue-100"},t[5]||(t[5]=[e("svg",{class:"h-3 w-3 mr-1",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 010-5 2.5 2.5 0 010 5z"})],-1),C(" Lihat Lokasi ")]),8,V)])):f("",!0),e("div",O,[e("div",U,[t[7]||(t[7]=e("h5",{class:"text-xs font-medium text-gray-500 mb-1"},"Customer",-1)),e("div",F,[e("button",{onClick:t[0]||(t[0]=o=>b.value=!0),class:"text-left hover:bg-gray-100 p-1 rounded"},[e("p",H,d(n.customer.name),1)]),n.customer.phone?(l(),r("button",{key:0,onClick:j,class:"p-1 text-green-600 hover:text-green-800 hover:bg-green-100 rounded-full",title:"Kirim WhatsApp ke Customer"},t[6]||(t[6]=[e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.864 3.488"})],-1)]))):f("",!0)])]),e("div",K,[t[9]||(t[9]=e("h5",{class:"text-xs font-medium text-gray-500 mb-1"},"PIC",-1)),e("div",q,[e("p",E,d(n.seller.unit_holder_name),1),n.seller.unit_holder_phone?(l(),r("button",{key:0,onClick:A,class:"p-1 text-blue-600 hover:text-blue-800 hover:bg-blue-100 rounded-full",title:"Kirim WhatsApp ke PIC"},t[8]||(t[8]=[e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.864 3.488"})],-1)]))):f("",!0)])])])])):(l(),r("div",J,t[10]||(t[10]=[e("p",{class:"text-xs text-yellow-700"},"Data customer dan PIC belum tersedia",-1)]))),b.value?(l(),r("div",G,[e("div",Q,[e("div",X,[t[12]||(t[12]=e("h3",{class:"text-lg font-bold"},"Detail Customer",-1)),e("button",{onClick:t[1]||(t[1]=o=>b.value=!1),class:"text-gray-500 hover:text-gray-700"},t[11]||(t[11]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",Y,[e("div",null,[t[13]||(t[13]=e("label",{class:"block text-xs font-medium text-gray-600"},"Nama Customer",-1)),e("p",Z,d(n.customer.name),1)]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-xs font-medium text-gray-600"},"Nomor WhatsApp",-1)),e("p",ee,d($(n.customer.phone)),1)]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-xs font-medium text-gray-600"},"Alamat Customer",-1)),e("p",te,d(n.customer.address||"-"),1)])]),e("div",se,[e("button",{onClick:t[2]||(t[2]=o=>b.value=!1),class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md text-sm hover:bg-gray-400"}," Tutup ")])])])):f("",!0)],2))}};export{ie as _};
